apiVersion: v1
kind: ConfigMap
metadata:
  name: database-app-config
  namespace: production
data:
  database.yaml: |
    # Database connection configuration
    # This app reads database credentials from mounted secret at /etc/secrets/db/
    # Expected files:
    #   - db-username (plain text after decode)
    #   - db-password (plain text after decode)
    #   - db-connection-string (plain text connection string after decode)
    
    connection:
      # App will read /etc/secrets/db/db-username
      username_file: /etc/secrets/db/db-username
      # App will read /etc/secrets/db/db-password
      password_file: /etc/secrets/db/db-password
      # App will read /etc/secrets/db/db-connection-string
      connection_string_file: /etc/secrets/db/db-connection-string
    
    pool_size: 10
    timeout: 30