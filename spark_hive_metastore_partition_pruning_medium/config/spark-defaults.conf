# Spark Configuration File
# Deployed: 2024-01-15
# Environment: Production

spark.master=yarn
spark.submit.deployMode=client
spark.driver.memory=2g
spark.driver.cores=2
spark.executor.memory=4g
spark.executor.cores=2
spark.executor.instances=10
spark.default.parallelism=40
spark.sql.shuffle.partitions=200

# Serialization settings
spark.serializer=org.apache.spark.serializer.KryoSerializer
spark.kryoserializer.buffer.max=512m

# Hive integration settings
spark.sql.hive.metastorePartitionPruning=false
spark.sql.hive.convertMetastoreParquet=true
spark.sql.warehouse.dir=/user/hive/warehouse
spark.sql.hive.verifyPartitionPath=true

# Event logging and UI
spark.eventLog.enabled=true
spark.eventLog.dir=hdfs:///var/log/spark/events
spark.history.fs.logDirectory=hdfs:///var/log/spark/events
spark.ui.port=4040

# Network and shuffle settings
spark.network.timeout=300s
spark.shuffle.service.enabled=true
spark.dynamicAllocation.enabled=false

# Memory management
spark.memory.fraction=0.6
spark.memory.storageFraction=0.5