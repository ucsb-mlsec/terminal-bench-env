# InfluxDB configuration file

[meta]
  dir = "/var/lib/influxdb/meta"
  retention-autocreate = true
  logging-enabled = true

[data]
  dir = "/var/lib/influxdb/data"
  wal-dir = "/var/lib/influxdb/wal"
  index-version = "tsi1"
  query-log-enabled = true

# Retention Policies - These contain ERRORS that caused the production incident

[[retention]]
name = "raw_metrics"
duration = "336h"
shard-group-duration = "48h"
replication = 1
default = true

[[retention]]
name = "aggregated_metrics"
duration = "4320h"
shard-group-duration = "1d"
replication = 2
default = true

[[retention]]
name = "archive_metrics"
duration = "8760h"
shard-group-duration = "7d"
replication = 3
default = false

[http]
  enabled = true
  bind-address = ":8086"
  auth-enabled = false
  log-enabled = true
  write-tracing = false
  https-enabled = false