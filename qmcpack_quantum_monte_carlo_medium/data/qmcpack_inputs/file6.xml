<?xml version="1.0"?>
<simulation>
  <project id="water_molecule" series="0">
    <application name="qmcpack" role="molecu" class="serial" version="1.0"/>
  </project>
  
  <qmcsystem>
    <simulationcell>
      <parameter name="lattice" units="bohr">
        20.0  0.0  0.0
        0.0  20.0  0.0
        0.0  0.0  20.0
      </parameter>
      <parameter name="bconds">
        n n n
      </parameter>
      <parameter name="LR_dim_cutoff">15</parameter>
    </simulationcell>
    
    <particleset name="e" random="yes">
      <group name="u" size="5" mass="1.0">
        <parameter name="charge">-1</parameter>
      </group>
      <group name="d" size="5" mass="1.0">
        <parameter name="charge">-1</parameter>
      </group>
    </particleset>
    
    <particleset name="ion0">
      <group name="O" size="1" mass="29164.39">
        <parameter name="charge">6</parameter>
        <parameter name="valence">6</parameter>
        <parameter name="atomicnumber">8</parameter>
        <attrib name="position" datatype="posArray" condition="0">
          0.0000000000  0.0000000000  0.0000000000
        </attrib>
      </group>
      <group name="H" size="2" mass="1837.15">
        <parameter name="charge">1</parameter>
        <parameter name="valence">1</parameter>
        <parameter name="atomicnumber">1</parameter>
        <attrib name="position" datatype="posArray" condition="0">
          1.4308400000  1.1078100000  0.0000000000
          -1.4308400000  1.1078100000  0.0000000000
        </attrib>
      </group>
    </particleset>
  </qmcsystem>
  
  <wavefunction name="psi0" target="e">
    <determinantset type="MolecularOrbital" name="LCAOBSet" source="ion0" transform="yes">
      <basisset name="LCAOBSet">
        <atomicBasisSet name="gaussian" angular="cartesian" type="Gaussian" elementType="O" normalized="no">
          <grid type="log" ri="1.e-6" rf="1.e2" npts="1001"/>
          <basisGroup rid="O00" n="0" l="0" m="0" type="Gaussian">
            <radfunc exponent="1.307093e+02" contraction="1.543290e-01"/>
            <radfunc exponent="2.380887e+01" contraction="5.353281e-01"/>
            <radfunc exponent="6.443608e+00" contraction="4.446345e-01"/>
          </basisGroup>
        </atomicBasisSet>
        <atomicBasisSet name="gaussian" angular="cartesian" type="Gaussian" elementType="H" normalized="no">
          <grid type="log" ri="1.e-6" rf="1.e2" npts="1001"/>
          <basisGroup rid="H00" n="0" l="0" m="0" type="Gaussian">
            <radfunc exponent="1.873114e+01" contraction="3.349460e-02"/>
            <radfunc exponent="2.825394e+00" contraction="2.347270e-01"/>
            <radfunc exponent="6.401217e-01" contraction="8.137573e-01"/>
          </basisGroup>
        </atomicBasisSet>
      </basisset>
      <sposet name="spo_ud" size="10">
        <coefficient size="10" spindataset="0"/>
      </sposet>
      <determinant id="updet" sposet="spo_ud" size="5"/>
      <determinant id="downdet" sposet="spo_ud" size="5"/>
    </determinantset>
    <jastrow name="J2" type="Two-Body" function="Bspline" print="yes">
      <correlation speciesA="u" speciesB="d" size="8">
        <coefficients id="ud" type="Array"> 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0</coefficients>
      </correlation>
    </jastrow>
  </wavefunction>
  
  <hamiltonian name="h0" type="generic" target="e">
    <pairpot name="ElecElec" type="coulomb" source="e" target="e"/>
    <pairpot name="IonIon" type="coulomb" source="ion0" target="ion0"/>
    <pairpot name="ElecIon" type="coulomb" source="ion0" target="e"/>
  </hamiltonian>
  
  <qmc method="vmc" move="pbyp">
    <estimator name="LocalEnergy" hdf5="no"/>
    <parameter name="walkers">hundred</parameter>
    <parameter name="warmupSteps">50</parameter>
    <parameter name="substeps">5</parameter>
    <parameter name="steps">100</parameter>
    <parameter name="blocks">200</parameter>
    <parameter name="timestep">0.5</parameter>
    <parameter name="useDrift">no</parameter>
  </qmc>
  
</simulation>