import numpy as np
import os

# Create directory if it doesn't exist
os.makedirs('/data/experiments/', exist_ok=True)

# Generate January 2024 sensor data
np.random.seed(42)
n_records = 87

# Create timestamps for January 2024
start_date = np.datetime64('2024-01-01T00:00:00')
timestamps = np.array([start_date + np.timedelta64(int(i * 8.5), 'h') for i in range(n_records)], dtype='datetime64[s]')

# Generate sensor measurements with realistic variations
temperatures = np.random.uniform(18.5, 25.3, n_records)
humidity = np.random.uniform(35, 65, n_records)
pressure = np.random.uniform(1010, 1025, n_records)
sensor_ids = np.random.randint(1, 6, n_records)

# Create structured array with specified dtype
dtype = [('timestamp', 'datetime64[s]'), ('temperature', 'f8'), ('humidity', 'f8'), ('pressure', 'f8'), ('sensor_id', 'i4')]
data = np.zeros(n_records, dtype=dtype)
data['timestamp'] = timestamps
data['temperature'] = temperatures
data['humidity'] = humidity
data['pressure'] = pressure
data['sensor_id'] = sensor_ids

# Save the structured array
np.save('/data/experiments/sensor_readings_2024_01.npy', data)

print(f"Generated January data with {n_records} records")