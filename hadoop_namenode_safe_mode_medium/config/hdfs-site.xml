<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <!-- Replication settings -->
    <property>
        <name>dfs.replication</name>
        <value>3</value>
    </property>
    
    <property>
        <name>dfs.namenode.replication.min</name>
        <value>2</value>
    </property>
    
    <!-- Safe mode configuration: NameNode enters safe mode on startup and exits only when
         the minimum threshold of blocks meet replication requirements and minimum DataNodes
         are available. These settings ensure cluster stability before accepting operations. -->
    <property>
        <name>dfs.namenode.safemode.threshold-pct</name>
        <value>0.999</value>
    </property>
    
    <property>
        <name>dfs.namenode.safemode.min.datanodes</name>
        <value>3</value>
    </property>
    
    <property>
        <name>dfs.namenode.safemode.extension</name>
        <value>30000</value>
    </property>
    
    <!-- Heartbeat and health check settings -->
    <property>
        <name>dfs.namenode.heartbeat.recheck-interval</name>
        <value>300000</value>
    </property>
    
    <property>
        <name>dfs.heartbeat.interval</name>
        <value>3</value>
    </property>
    
    <!-- DataNode failure tolerance -->
    <property>
        <name>dfs.datanode.failed.volumes.tolerated</name>
        <value>0</value>
    </property>
    
    <!-- Block configuration -->
    <property>
        <name>dfs.blocksize</name>
        <value>134217728</value>
    </property>
    
    <!-- Storage directories -->
    <property>
        <name>dfs.namenode.name.dir</name>
        <value>file:///hadoop/dfs/name</value>
    </property>
    
    <property>
        <name>dfs.datanode.data.dir</name>
        <value>file:///hadoop/dfs/data</value>
    </property>
</configuration>