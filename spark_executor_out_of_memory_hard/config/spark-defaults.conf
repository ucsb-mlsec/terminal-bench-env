# Production Spark configuration for transaction aggregation job
# Current settings - experiencing OOM errors with 500GB+ datasets
# Last updated: 2024-01

spark.executor.memory 8g
spark.executor.cores 4
spark.driver.memory 4g
spark.sql.shuffle.partitions 200
spark.memory.fraction 0.6
spark.memory.storageFraction 0.5
spark.default.parallelism 100
spark.sql.autoBroadcastJoinThreshold 10485760
spark.executor.memoryOverhead 1024m
spark.serializer org.apache.spark.serializer.KryoSerializer
spark.shuffle.compress true
spark.rdd.compress true