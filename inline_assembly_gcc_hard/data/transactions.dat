#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>
#include <time.h>

int main() {
    FILE *fp = fopen("transactions.dat", "wb");
    if (!fp) {
        perror("Failed to create file");
        return 1;
    }
    
    // Seed the random number generator
    srand(42); // Fixed seed for reproducibility
    
    uint32_t value;
    
    // Write 10 million values
    for (int i = 0; i < 10000000; i++) {
        if (i < 100) {
            // First 100: special patterns
            switch (i % 10) {
                case 0: value = 0xFFFFFFFF; break;
                case 1: value = 0xFEFEFEFE; break;
                case 2: value = 0x00000001; break;
                case 3: value = 0x00000100; break;
                case 4: value = 0x12345678; break;
                case 5: value = 0xABCDEF01; break;
                case 6: value = 0x80000000; break;
                case 7: value = 0x00000000; break;
                case 8: value = 0x55555555; break;
                case 9: value = 0xAAAAAAAA; break;
            }
        } else {
            // Rest: pseudo-random values across full 32-bit range
            value = ((uint32_t)rand() << 16) | ((uint32_t)rand() & 0xFFFF);
            // Mix in high bit entropy
            if (rand() % 2) {
                value ^= ((uint32_t)rand() << 24);
            }
        }
        
        fwrite(&value, sizeof(uint32_t), 1, fp);
    }
    
    fclose(fp);
    printf("Generated transactions.dat with 10,000,000 transaction IDs (40,000,000 bytes)\n");
    return 0;
}