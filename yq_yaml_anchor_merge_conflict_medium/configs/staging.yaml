staging:
  staging_defaults: &staging_defaults
    timeout: 45
    retries: 5
    log_level: debug
    enable_metrics: true
    environment: staging

  staging_database: &staging_database
    host: staging-db.example.com
    port: 5432
    pool_size: 20
    ssl_enabled: true
    database_name: staging_db

  api_service:
    <<: *staging_defaults
    <<: 
      timeout: 30
      log_level: info
      cache_enabled: true
    timeout: 60
    service_name: api-service
    port: 8080

  database_config:
    <<: *staging_database
    <<:
      port: 5433
      pool_size: 15
      connection_timeout: 10
    host: staging-db-new.example.com
    max_connections: 50

  worker_service:
    <<: *staging_defaults
    retries: 10
    queue_name: staging-queue
    workers: 4