import numpy as np

# Set random seed for reproducibility
np.random.seed(42)

# Create validation images (2000, 32, 32, 3)
# Generate realistic image data with varied patterns

# Initialize array
val_images = np.zeros((2000, 32, 32, 3), dtype=np.float32)

# Create diverse image patterns for 10 different classes (200 images per class)
for i in range(2000):
    class_id = i // 200  # 10 classes, 200 images each
    
    # Create base patterns for different classes
    if class_id == 0:
        # Pattern 0: Predominantly red with gradients
        val_images[i, :, :, 0] = np.random.uniform(0.5, 1.0, (32, 32))
        val_images[i, :, :, 1] = np.random.uniform(0.0, 0.3, (32, 32))
        val_images[i, :, :, 2] = np.random.uniform(0.0, 0.3, (32, 32))
    elif class_id == 1:
        # Pattern 1: Predominantly green with central bright spot
        center_x, center_y = 16, 16
        for x in range(32):
            for y in range(32):
                dist = np.sqrt((x - center_x)**2 + (y - center_y)**2)
                val_images[i, x, y, 1] = max(0.3, 1.0 - dist / 20)
                val_images[i, x, y, 0] = np.random.uniform(0.0, 0.2)
                val_images[i, x, y, 2] = np.random.uniform(0.0, 0.2)
    elif class_id == 2:
        # Pattern 2: Predominantly blue with horizontal stripes
        for x in range(32):
            intensity = 0.4 + 0.3 * np.sin(x * 0.5)
            val_images[i, x, :, 2] = intensity + np.random.uniform(-0.1, 0.1, 32)
            val_images[i, x, :, 0] = np.random.uniform(0.0, 0.2, 32)
            val_images[i, x, :, 1] = np.random.uniform(0.0, 0.2, 32)
    elif class_id == 3:
        # Pattern 3: Yellow (red + green)
        val_images[i, :, :, 0] = np.random.uniform(0.6, 0.9, (32, 32))
        val_images[i, :, :, 1] = np.random.uniform(0.6, 0.9, (32, 32))
        val_images[i, :, :, 2] = np.random.uniform(0.0, 0.2, (32, 32))
    elif class_id == 4:
        # Pattern 4: Cyan (green + blue)
        val_images[i, :, :, 1] = np.random.uniform(0.5, 0.8, (32, 32))
        val_images[i, :, :, 2] = np.random.uniform(0.5, 0.8, (32, 32))
        val_images[i, :, :, 0] = np.random.uniform(0.0, 0.2, (32, 32))
    elif class_id == 5:
        # Pattern 5: Magenta (red + blue)
        val_images[i, :, :, 0] = np.random.uniform(0.5, 0.9, (32, 32))
        val_images[i, :, :, 2] = np.random.uniform(0.5, 0.9, (32, 32))
        val_images[i, :, :, 1] = np.random.uniform(0.0, 0.2, (32, 32))
    elif class_id == 6:
        # Pattern 6: Checker pattern
        for x in range(32):
            for y in range(32):
                if (x // 4 + y // 4) % 2 == 0:
                    val_images[i, x, y, :] = np.random.uniform(0.7, 0.9, 3)
                else:
                    val_images[i, x, y, :] = np.random.uniform(0.1, 0.3, 3)
    elif class_id == 7:
        # Pattern 7: Diagonal gradient
        for x in range(32):
            for y in range(32):
                intensity = (x + y) / 64.0
                val_images[i, x, y, :] = intensity + np.random.uniform(-0.1, 0.1, 3)
    elif class_id == 8:
        # Pattern 8: Circular pattern
        center_x, center_y = 16, 16
        for x in range(32):
            for y in range(32):
                dist = np.sqrt((x - center_x)**2 + (y - center_y)**2)
                intensity = 0.8 if dist < 12 else 0.2
                val_images[i, x, y, :] = intensity + np.random.uniform(-0.1, 0.1, 3)
    else:  # class_id == 9
        # Pattern 9: Random noise with structure
        val_images[i] = np.random.uniform(0.3, 0.7, (32, 32, 3))
        # Add some structure
        val_images[i, 10:22, 10:22, :] *= 1.3
    
    # Add some noise to all patterns
    noise = np.random.normal(0, 0.05, (32, 32, 3))
    val_images[i] = np.clip(val_images[i] + noise, 0, 1)

# Ensure all values are in [0, 1] range and float32
val_images = np.clip(val_images, 0.0, 1.0).astype(np.float32)

# Save the validation images
np.save('/workspace/data/val_images.npy', val_images)