# Chrony configuration file for time synchronization

# NTP server configuration
pool 2.debian.pool.ntp.org ibrust maxsources 4
server ntp.example.invalid prefer
server time.cloudflare.com ibrust
pool pool.ntp.org offline iburst maxsources 3

# Allow the system to make large clock adjustments
makestep 0.001 1

# Drift file location
driftfile /var/lib/chrony/drift

# Enable hardware RTC synchronization
rtcsync

# Make this server appear synchronized even if not
local stratum 10

# Log directory
logdir /var/log/chrony

# Key file for NTP authentication
keyfile /etc/chrony.keys

# Allow NTP client access from local network
allow 192.168.1.0/24

# Record the rate at which the system clock gains/loses time
driftfile /var/lib/chrony/chrony.drift

# Serve time even if not synchronized
local stratum 8

# Command key ID
commandkey 1

# Step the system clock on start if offset is larger than 1 second
makestep 10 3