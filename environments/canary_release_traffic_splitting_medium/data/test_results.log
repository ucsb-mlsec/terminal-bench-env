===== NGINX Load Balancer Traffic Distribution Test =====
Date: 2024-01-15 14:32:17 UTC
Test Engineer: QA Team
Total Requests: 1000
Expected Distribution: 85% Stable (850 requests), 15% Canary (150 requests)

===== TEST EXECUTION =====
Testing Method: Sequential HTTP GET requests to http://loadbalancer/health
Test Duration: 47 seconds
Client: Apache Bench (ab)

===== ACTUAL RESULTS =====

Requests to Stable (192.168.1.10:8080): 502
Requests to Canary (192.168.1.11:8080): 498

Actual Distribution:
Stable: 50.2%
Canary: 49.8%

===== DETAILED BREAKDOWN =====

Expected vs Actual:
                Expected    Actual    Difference
Stable Server:  850        502       -348 (-40.9%)
Canary Server:  150        498       +348 (+232.0%)

===== ANALYSIS =====

Traffic is NOT being distributed according to requirements.

Expected: 850 requests to Stable, 150 requests to Canary
Actual: 502 requests to Stable, 498 requests to Canary

Deviation from Target:
- Stable server is receiving 348 fewer requests than expected
- Canary server is receiving 348 more requests than expected
- This represents a 40.9% shortfall for stable and 232% excess for canary

The distribution appears to be approximately 50/50, suggesting that:
1. Backend weights may not be configured correctly
2. Upstream configuration might be using default equal weights
3. Traffic splitting mechanism may not be implemented at all

===== IMPACT ASSESSMENT =====

SEVERITY: HIGH
- Canary version is receiving 3.3x more traffic than intended
- Risk of overloading canary server with untested capacity
- Stable server is underutilized
- Does not meet business requirements for gradual rollout

===== CONCLUSION =====

STATUS: FAILED

The traffic distribution is significantly off target and does not meet the 15% canary / 85% stable requirement. The current configuration appears to be treating both backend servers equally instead of applying the required weight distribution.

RECOMMENDATION: Review NGINX upstream configuration and verify weight parameters are properly set.

===== END OF REPORT =====