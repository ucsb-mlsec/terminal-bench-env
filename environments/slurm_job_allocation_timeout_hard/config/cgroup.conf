# SLURM cgroup.conf - Resource Management Configuration
# Controls how SLURM uses Linux cgroups for resource isolation
# Last modified by previous administrator

# Basic cgroup settings
CgroupAutomount=yes
CgroupMountpoint=/sys/fs/cgroup

# Enable resource constraints
ConstrainCores=yes
ConstrainRAMSpace=yes
ConstrainSwapSpace=yes
ConstrainDevices=yes

# Memory limit configuration - percentage based
AllowedRAMSpace=95
AllowedSwapSpace=0
MemorySwappiness=0

# Maximum memory usage constraint - CONFLICTS WITH AllowedRAMSpace
MaxRAMPercent=80

# Minimum memory requirement per task in MB
MinRAMSpace=8000

# CPU affinity and scheduling
TaskAffinity=yes

# Cgroup subsystems to enable
CgroupPlugin=cgroup/v1

# Device access control
AllowedDevicesFile=/etc/slurm/cgroup_allowed_devices_file.conf