# System Control Configuration File
# /etc/sysctl.conf
#
# This file contains kernel parameters that are applied at boot time
# and can be modified at runtime using sysctl command

# Network Configuration
# IP Forwarding - disabled for security
net.ipv4.ip_forward = 0

# SYN cookies protection against SYN flood attacks
net.ipv4.tcp_syncookies = 1

# Increase the maximum number of incoming connections
net.core.somaxconn = 1024

# TCP settings for better performance
net.ipv4.tcp_max_syn_backlog = 2048
net.ipv4.tcp_fin_timeout = 30
net.ipv4.tcp_keepalive_time = 300
net.ipv4.tcp_keepalive_probes = 5
net.ipv4.tcp_keepalive_intvl = 15

# Kernel Shared Memory Parameters
# Maximum size of shared memory segment (64GB)
kernel.shmmax = 68719476736

# Total amount of shared memory available (in pages)
kernel.shmall = 4294967296

# Maximum number of shared memory segments
kernel.shmmni = 4096

# Message Queue Parameters
kernel.msgmnb = 65536
kernel.msgmax = 65536

# Semaphore settings
kernel.sem = 250 32000 100 128

# Virtual Memory Management
# Swappiness - reduce swapping (good for database servers)
vm.swappiness = 10

# Dirty page cache settings
vm.dirty_ratio = 15
vm.dirty_background_ratio = 5

# Memory overcommit settings
vm.overcommit_memory = 2
vm.overcommit_ratio = 80

# File System Parameters
# Maximum number of file handles
fs.file-max = 2097152

# Inotify settings
fs.inotify.max_user_watches = 524288

# Security Parameters
# Process ID limit
kernel.pid_max = 4194304

# Core dump settings
kernel.core_uses_pid = 1