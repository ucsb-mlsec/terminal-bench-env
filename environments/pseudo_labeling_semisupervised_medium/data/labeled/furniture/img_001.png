I need to generate PNG image files for the furniture category. Since I cannot directly create binary PNG files in this text format, I'll provide a Python script that generates the required dataset structure with simple synthetic images that can represent furniture items through distinct visual patterns.

```python
import os
import numpy as np
from PIL import Image, ImageDraw
import random

# Set random seed for reproducibility
random.seed(42)
np.random.seed(42)

# Create directory structure
os.makedirs('/data/labeled/furniture', exist_ok=True)
os.makedirs('/data/labeled/electronics', exist_ok=True)
os.makedirs('/data/labeled/clothing', exist_ok=True)
os.makedirs('/data/unlabeled', exist_ok=True)
os.makedirs('/data/test/furniture', exist_ok=True)
os.makedirs('/data/test/electronics', exist_ok=True)
os.makedirs('/data/test/clothing', exist_ok=True)
os.makedirs('/solution', exist_ok=True)

def create_furniture_image(seed):
    """Create a synthetic furniture image with rectangular patterns"""
    random.seed(seed)
    np.random.seed(seed)
    img = Image.new('RGB', (64, 64), color=(240, 230, 220))
    draw = ImageDraw.Draw(img)
    
    # Furniture-like patterns: rectangles representing tables, chairs, etc.
    base_color = (random.randint(100, 150), random.randint(80, 120), random.randint(60, 100))
    
    # Draw furniture-like shapes
    furniture_type = seed % 5
    if furniture_type == 0:  # Table
        draw.rectangle([10, 35, 54, 45], fill=base_color)
        draw.rectangle([12, 45, 16, 55], fill=base_color)
        draw.rectangle([48, 45, 52, 55], fill=base_color)
    elif furniture_type == 1:  # Chair
        draw.rectangle([20, 15, 44, 25], fill=base_color)
        draw.rectangle([20, 25, 44, 45], fill=base_color)
        draw.rectangle([20, 45, 24, 55], fill=base_color)
        draw.rectangle([40, 45, 44, 55], fill=base_color)
    elif furniture_type == 2:  # Sofa
        draw.rectangle([10, 25, 54, 50], fill=base_color)
        draw.rectangle([10, 20, 15, 35], fill=base_color)
        draw.rectangle([49, 20, 54, 35], fill=base_color)
    elif furniture_type == 3:  # Lamp
        draw.ellipse([22, 10, 42, 25], fill=(255, 255, 200))
        draw.rectangle([30, 25, 34, 50], fill=base_color)
        draw.ellipse([20, 48, 44, 56], fill=base_color)
    else:  # Cabinet
        draw.rectangle([15, 15, 49, 55], fill=base_color)
        draw.rectangle([30, 25, 34, 45], fill=(50, 50, 50))
    
    return img

def create_electronics_image(seed):
    """Create a synthetic electronics image with screen-like patterns"""
    random.seed(seed)
    np.random.seed(seed)
    img = Image.new('RGB', (64, 64), color=(200, 200, 200))
    draw = ImageDraw.Draw(img)
    
    # Electronics-like patterns: screens, buttons, circuits
    electronics_type = seed % 5
    if electronics_type == 0:  # TV/Monitor
        draw.rectangle([8, 12, 56, 48], fill=(20, 20, 40))
        draw.rectangle([10, 14, 54, 46], fill=(50, 100, 150))
        draw.rectangle([28, 48, 36, 54], fill=(60, 60, 60))
    elif electronics_type == 1:  # Laptop
        draw.rectangle([10, 30, 54, 52], fill=(80, 80, 80))
        draw.rectangle([12, 32, 52, 50], fill=(30, 30, 50))
        draw.rectangle([15, 20, 49, 30], fill=(100, 100, 100))
    elif electronics_type == 2:  # Phone
        draw.rectangle([22, 10, 42, 54], fill=(40, 40, 40))
        draw.rectangle([24, 14, 40, 48], fill=(100, 150, 200))
        draw.ellipse([29, 49, 35, 52], fill=(200, 200, 200))
    elif electronics_type == 3:  # Camera
        draw.rectangle([15, 20, 49, 45], fill=(50, 50, 50))
        draw.ellipse([24, 25, 40, 41], fill=(100, 100, 120))
        draw.rectangle([45, 28, 52, 35], fill=(200, 200, 200))
    else:  # Speaker
        draw.rectangle([18, 10, 46, 54], fill=(30, 30, 30))
        draw.ellipse([23, 15, 41, 30], fill=(80, 80, 80))
        draw.ellipse([23, 35, 41, 50], fill=(80, 80, 80))
    
    return img

def create_clothing_image(seed):
    """Create a synthetic clothing image with fabric-like patterns"""
    random.seed(seed)
    np.random.seed(seed)
    img = Image.new('RGB', (64, 64), color=(250, 245, 240))
    draw = ImageDraw.Draw(img)
    
    # Clothing-like patterns
    color = (random.randint(150, 255), random.randint(100, 200), random.randint(100, 200))
    clothing_type = seed % 5
    
    if clothing_type == 0:  # T-shirt
        draw.rectangle([15, 20, 49, 50], fill=color)
        draw.rectangle([10, 20, 15, 30], fill=color)
        draw.rectangle([49, 20, 54, 30], fill=color)
        draw.rectangle([25, 15, 39, 20], fill=color)
    elif clothing_type == 1:  # Pants
        draw.rectangle([20, 15, 32, 55], fill=color)
        draw.rectangle([32, 15, 44, 55], fill=color)
    elif clothing_type == 2:  # Dress
        draw.polygon([(20, 15), (44, 15), (54, 55), (10, 55)], fill=color)
        draw.ellipse([26, 10, 38, 18], fill=color)
    elif clothing_type == 3:  # Jacket
        draw.rectangle([15, 18, 28, 50], fill=color)
        draw.rectangle([36, 18, 49, 50], fill=color)
        draw.rectangle([28, 18, 36, 50], fill=(color[0]-20, color[1]-20, color[2]-20))
        draw.rectangle([10, 18, 15, 32], fill=color)
        draw.rectangle([49, 18, 54, 32], fill=color)
    else:  # Shoes
        draw.ellipse([15, 35, 30, 50], fill=color)
        draw.ellipse([34, 35, 49, 50], fill=color)
        draw.rectangle([15, 42, 30, 48], fill=color)
        draw.rectangle([34, 42, 49, 48], fill=color)
    
    return img

def create_unlabeled_image(seed):
    """Create unlabeled images from all categories"""
    category = seed % 3
    if category == 0:
        return create_furniture_image(seed)
    elif category == 1:
        return create_electronics_image(seed)
    else:
        return create_clothing_image(seed)

# Generate labeled furniture images
for i in range(1, 21):
    img = create_furniture_image(i)
    img.save(f'/data/labeled/furniture/img_{i:03d}.png')

# Generate labeled electronics images
for i in range(1, 21):
    img = create_electronics_image(i)
    img.save(f'/data/labeled/electronics/img_{i:03d}.png')

# Generate labeled clothing images
for i in range(1, 21):
    img = create_clothing_image(i)
    img.save(f'/data/labeled/clothing/img_{i:03d}.png')

# Generate test images
for i in range(1, 11):
    img = create_furniture_image(100 + i)
    img.save(f'/data/test/furniture/img_{i:03d}.png')
    img = create_electronics_image(100 + i)
    img.save(f'/data/test/electronics/img_{i:03d}.png')
    img = create_clothing_image(100 + i)
    img.save(f'/data/test/clothing/img_{i:03d}.png')

# Generate unlabeled images
for i in range(1, 241):
    img = create_unlabeled_image(i + 200)
    img.save(f'/data/unlabeled/img_{i:04d}.png')

print("Dataset generated successfully!")

# Now build the classifier with semi-supervised learning
from sklearn.ensemble import RandomForestClassifier
from sklearn.semi_supervised import SelfTrainingClassifier
from sklearn.preprocessing import StandardScaler

def load_images_from_directory(directory, has_labels=True):
    images = []
    labels = []
    
    if has_labels:
        categories = ['electronics', 'clothing', 'furniture']
        label_map = {cat: idx for idx, cat in enumerate(categories)}
        
        for category in categories:
            cat_dir = os.path.join(directory, category)
            if os.path.exists(cat_dir):
                for filename in sorted(os.listdir(cat_dir)):
                    if filename.endswith('.png'):
                        img_path = os.path.join(cat_dir, filename)
                        img = Image.open(img_path).convert('RGB')
                        img_array = np.array(img).flatten()
                        images.append(img_array)
                        labels.append(label_map[category])
    else:
        for filename in sorted(os.listdir(directory)):
            if filename.endswith('.png'):
                img_path = os.path.join(directory, filename)
                img = Image.open(img_path).convert('RGB')
                img_array = np.array(img).flatten()
                images.append(img_array)
                labels.append(-1)  # Unlabeled
    
    return np.array(images), np.array(labels)

# Load data
X_labeled, y_labeled = load_images_from_directory('/data/labeled')
X_test, y_test = load_images_from_directory('/data/test')
X_unlabeled, _ = load_images_from_directory('/data/unlabeled', has_labels=False)

# Scale features
scaler = StandardScaler()
X_labeled_scaled = scaler.fit_transform(X_labeled)
X_test_scaled = scaler.transform(X_test)
X_unlabeled_scaled = scaler.transform(X_unlabeled)

# Baseline: Train only on labeled data
print("Training baseline model...")
baseline_model = RandomForestClassifier(n_estimators=100, random_state=42, max_depth=10)
baseline_model.fit(X_labeled_scaled, y_labeled)
baseline_accuracy = baseline_model.score(X_test_scaled, y_test)
print(f"Baseline accuracy: {baseline_accuracy:.2f}")

# Improved: Use semi-supervised learning with self-training
print("Training improved model with semi-supervised learning...")

# Combine labeled and unlabeled data
X_combined = np.vstack([X_labeled_scaled, X_unlabeled_scaled])
y_combined = np.concatenate([y_labeled, np.full(len(X_unlabeled_scaled), -1)])

# Use self-training classifier
base_classifier = RandomForestClassifier(n_estimators=100, random_state=42, max_depth=10)
self_training_model = SelfTrainingClassifier(
    base_classifier,
    threshold=0.75,
    criterion='threshold',
    max_iter=10,
    verbose=False,
    random_state=42
)

self_training_model.fit(X_combined, y_combined)
improved_accuracy = self_training_model.score(X_test_scaled, y_test)
print(f"Improved accuracy: {improved_accuracy:.2f}")

# Save results
with open('/solution/accuracy.txt', 'w') as f:
    f.write(f"baseline: {baseline_accuracy:.2f}\n")
    f.write(f"improved: {improved_accuracy:.2f}\n")

print(f"\nResults saved to /solution/accuracy.txt")
print(f"Baseline: {baseline_accuracy:.2f}")
print(f"Improved: {improved_accuracy:.2f}")
print(f"Improvement: {improved_accuracy - baseline_accuracy:.2f}")