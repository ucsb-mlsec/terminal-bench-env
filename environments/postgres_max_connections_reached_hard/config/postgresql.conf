# -----------------------------
# PostgreSQL configuration file
# -----------------------------

#------------------------------------------------------------------------------
# CONNECTIONS AND AUTHENTICATION
#------------------------------------------------------------------------------

# - Connection Settings -

max_connections = 100			# (change requires restart)
superuser_reserved_connections = 3	# (change requires restart)
#unix_socket_directories = '/var/run/postgresql'
#unix_socket_group = ''
#unix_socket_permissions = 0777
#bonjour = off
#bonjour_name = ''

# - TCP settings -
#tcp_keepalives_idle = 0
#tcp_keepalives_interval = 0
#tcp_keepalives_count = 0

#------------------------------------------------------------------------------
# RESOURCE USAGE (except WAL)
#------------------------------------------------------------------------------

# - Memory -

shared_buffers = 2GB			# min 128kB
					# (change requires restart)
#huge_pages = try			# on, off, or try
#temp_buffers = 8MB			# min 800kB
#max_prepared_transactions = 0		# zero disables the feature
work_mem = 4MB				# min 64kB
maintenance_work_mem = 512MB		# min 1MB
#autovacuum_work_mem = -1		# min 1MB, or -1 to use maintenance_work_mem
#max_stack_depth = 2MB			# min 100kB
#shared_memory_type = mmap		# the default is the first option
dynamic_shared_memory_type = posix	# the default is the first option

#------------------------------------------------------------------------------
# WRITE AHEAD LOG
#------------------------------------------------------------------------------

# - Settings -

#wal_level = replica			# minimal, replica, or logical
#fsync = on				# flush data to disk for crash safety
#synchronous_commit = on		# synchronization level
#wal_sync_method = fsync		# the default is the first option
#full_page_writes = on			# recover from partial page writes
wal_buffers = 16MB			# min 32kB, -1 sets based on shared_buffers
#wal_writer_delay = 200ms		# 1-10000 milliseconds
#wal_writer_flush_after = 1MB		# measured in pages, 0 disables

#------------------------------------------------------------------------------
# QUERY TUNING
#------------------------------------------------------------------------------

# - Planner Cost Constants -

#seq_page_cost = 1.0			# measured on an arbitrary scale
random_page_cost = 1.1			# same scale as above
#cpu_tuple_cost = 0.01			# same scale as above
#cpu_index_tuple_cost = 0.005		# same scale as above
#cpu_operator_cost = 0.0025		# same scale as above
#parallel_tuple_cost = 0.1		# same scale as above
#parallel_setup_cost = 1000.0		# same scale as above
effective_cache_size = 6GB

# - Other Planner Options -

default_statistics_target = 100		# range 1-10000
#constraint_exclusion = partition	# on, off, or partition
#cursor_tuple_fraction = 0.1		# range 0.0-1.0
#from_collapse_limit = 8
#join_collapse_limit = 8		# 1 disables collapsing of explicit

#------------------------------------------------------------------------------
# REPORTING AND LOGGING
#------------------------------------------------------------------------------

# - Where to Log -

#log_destination = 'stderr'		# Valid values are combinations of
logging_collector = on			# Enable capturing of stderr and csvlog
#log_directory = 'log'			# directory where log files are written
#log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'
#log_file_mode = 0600
#log_truncate_on_rotation = off
log_rotation_age = 1d			# Automatic rotation of logfiles will
log_rotation_size = 100MB		# Automatic rotation of logfiles will

# - When to Log -

#log_min_messages = warning		# values in order of decreasing detail
#log_min_error_statement = error	# values in order of decreasing detail
log_min_duration_statement = 1000	# -1 is disabled, 0 logs all statements

# - What to Log -

#log_checkpoints = off
log_connections = on
log_disconnections = on
#log_duration = off
#log_error_verbosity = default		# terse, default, or verbose messages
#log_hostname = off
log_line_prefix = '%m [%p] %q%u@%d '	# special values
#log_lock_waits = off			# log lock waits >= deadlock_timeout
log_statement = 'ddl'			# none, ddl, mod, all
#log_replication_commands = off
#log_temp_files = -1			# log temporary files equal or larger

#------------------------------------------------------------------------------
# AUTOVACUUM
#------------------------------------------------------------------------------

autovacuum = on				# Enable autovacuum subprocess?
#log_autovacuum_min_duration = -1	# -1 disables, 0 logs all actions and
#autovacuum_max_workers = 3		# max number of autovacuum subprocesses
#autovacuum_naptime = 1min		# time between autovacuum runs
#autovacuum_vacuum_threshold = 50	# min number of row updates before vacuum
#autovacuum_analyze_threshold = 50	# min number of row updates before analyze

#------------------------------------------------------------------------------
# CLIENT CONNECTION DEFAULTS
#------------------------------------------------------------------------------

# - Locale and Formatting -

datestyle = 'iso, mdy'
#intervalstyle = 'postgres'
timezone = 'UTC'
#timezone_abbreviations = 'Default'     # Select the set of available time zone
#extra_float_digits = 1			# min -15, max 3; any value >0 actually
#client_encoding = sql_ascii		# actually, defaults to database encoding

# - Shared Library Preloading -

#shared_preload_libraries = ''		# (change requires restart)
#local_preload_libraries = ''
#session_preload_libraries = ''

#------------------------------------------------------------------------------
# LOCK MANAGEMENT
#------------------------------------------------------------------------------

#deadlock_timeout = 1s
#max_locks_per_transaction = 64		# min 10
#max_pred_locks_per_transaction = 64	# min 10

#------------------------------------------------------------------------------
# VERSION AND PLATFORM COMPATIBILITY
#------------------------------------------------------------------------------

# - Previous PostgreSQL Versions -

#array_nulls = on
#backslash_quote = safe_encoding	# on, off, or safe_encoding
#escape_string_warning = on
#lo_compat_privileges = off
#operator_precedence_warning = off
#quote_all_identifiers = off
#standard_conforming_strings = on
#synchronize_seqscans = on

#------------------------------------------------------------------------------
# CUSTOMIZED OPTIONS
#------------------------------------------------------------------------------

checkpoint_completion_target = 0.9
#wal_keep_segments = 10
#max_wal_senders = 10
#max_replication_slots = 10