#!/bin/bash

# Creating temporary directory for files to be archived
TEMP_DIR=$(mktemp -d)
cd "$TEMP_DIR"

# Create 7 text files with simple content
cat > file1.txt << 'EOF'
Backup Archive File 1
====================
This is a test file for the backup system.
Date: 2024-02-10
Status: Active
Content: Sample data for integrity testing
EOF

cat > file2.txt << 'EOF'
System Log Entry - 2024-02-10
==============================
[INFO] Backup process initiated
[INFO] Scanning directories
[INFO] Files queued: 1247
[INFO] Compression started
[INFO] Archive creation successful
EOF

cat > file3.txt << 'EOF'
Database Backup Metadata
========================
Database: production_db
Size: 2.4 GB
Tables: 156
Records: 4,521,033
Timestamp: 2024-02-10 03:15:22
Backup Method: Full
EOF

cat > file4.txt << 'EOF'
Configuration Snapshot
======================
server.hostname=backup-srv-01
server.port=8080
backup.retention=90
backup.compression=gzip
backup.encryption=aes256
monitoring.enabled=true
alert.email=admin@example.com
EOF

cat > file5.txt << 'EOF'
Application State Data
======================
Service: WebApp-Frontend
Version: 3.2.1
Uptime: 45 days
Active Sessions: 234
Memory Usage: 1.2 GB
CPU Usage: 23%
Health Status: HEALTHY
Last Restart: 2024-01-15 08:00:00
EOF

cat > file6.txt << 'EOF'
User Access Report
==================
Total Users: 5,432
Active Today: 1,234
New Registrations: 45
Failed Logins: 12
Locked Accounts: 3
Password Resets: 8
Average Session Duration: 24 minutes
Peak Concurrent Users: 892
EOF

cat > file7.txt << 'EOF'
Transaction Summary
===================
Date: 2024-02-10
Total Transactions: 8,765
Successful: 8,721
Failed: 44
Total Volume: $1,234,567.89
Average Transaction: $140.87
Largest Transaction: $15,234.00
Processing Time (avg): 1.2s
EOF

# Create the tar.gz archive
tar -czf backup_archives_2024-02-10.tar.gz file1.txt file2.txt file3.txt file4.txt file5.txt file6.txt file7.txt

# Output the binary content
cat backup_archives_2024-02-10.tar.gz

# Cleanup
cd - > /dev/null
rm -rf "$TEMP_DIR"