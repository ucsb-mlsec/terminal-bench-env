# Low Latency GC Profile
# Optimized for minimal pause times and consistent response times
# Best suited for real-time applications with strict SLA requirements

# Use G1 Garbage Collector - optimized for low latency with predictable pause times
-XX:+UseG1GC

# Set maximum heap size to 4GB
-Xmx4G

# Set initial heap size to 4GB (same as max to avoid resizing overhead)
-Xms4G

# Target maximum GC pause time of 10 milliseconds
-XX:MaxGCPauseMillis=10

# Set young generation to 5-10% of heap for frequent, short collections
-XX:G1NewSizePercent=5
-XX:G1MaxNewSizePercent=10

# Start concurrent marking early at 45% heap occupancy to avoid full GCs
-XX:InitiatingHeapOccupancyPercent=45

# Enable parallel processing of soft/weak/phantom references during GC
-XX:+ParallelRefProcEnabled

# Use multiple threads for concurrent refinement of remembered sets
-XX:G1ConcRefinementThreads=4

# Limit number of regions processed per GC to reduce pause times
-XX:G1MixedGCCountTarget=8

# Process fewer old regions per mixed GC for shorter pauses
-XX:G1MixedGCLiveThresholdPercent=85

# Reserve 10% of heap to reduce risk of allocation failures
-XX:G1ReservePercent=10

# Enable string deduplication to reduce memory footprint
-XX:+UseStringDeduplication

# Reduce tenuring threshold to promote objects to old gen faster
-XX:MaxTenuringThreshold=3

# Enable GC logging for monitoring (Java 8 style)
-XX:+PrintGCDetails
-XX:+PrintGCDateStamps
-XX:+PrintGCTimeStamps