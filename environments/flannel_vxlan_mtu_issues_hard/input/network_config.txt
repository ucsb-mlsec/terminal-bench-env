# Network Configuration - Failed Deployment Analysis
# Generated from post-mortem of production Kubernetes cluster migration
# Date: 2024-01-15
# Issue: Severe packet fragmentation causing pod-to-pod communication failures

PHYSICAL_INTERFACE_MTU=1500
VXLAN_OVERHEAD=50
FLANNEL_BACKEND=vxlan
OBSERVED_WORKING_PACKET_SIZE=1400
OBSERVED_FAILING_PACKET_SIZE=1500
POD_CIDR=10.244.0.0/16

# Diagnostic Notes:
# - Small HTTP requests (< 1400 bytes) completed successfully
# - Large file transfers and database replication failed intermittently
# - Packet capture showed fragmentation on physical interfaces
# - Cross-node communication affected, same-node communication worked fine
# - Issue reproduced consistently with iperf tests using 1500 byte packets
# - Network team confirmed physical network MTU is standard 1500 bytes
# - Previous configuration had flannel MTU set to 1500 (incorrect)
# - VXLAN adds 50 bytes overhead (outer IP + UDP + VXLAN headers)
# - Calculate: flannel_mtu = PHYSICAL_MTU - VXLAN_OVERHEAD
# - Expected correct value: 1500 - 50 = 1450 bytes