2024-01-15T14:32:18.4421234Z ##[section]Starting: Deploy to Production
2024-01-15T14:32:18.4567890Z ##[section]Operating System: Linux
2024-01-15T14:32:18.4598765Z ##[section]Runner name: 'GitHub Actions 12'
2024-01-15T14:32:18.4612345Z ##[section]Runner group name: 'Default'
2024-01-15T14:32:18.4623456Z ##[section]Machine name: 'fv-az456-789'
2024-01-15T14:32:19.1234567Z Current runner version: '2.311.0'
2024-01-15T14:32:19.2345678Z ##[group]GITHUB_TOKEN Permissions
2024-01-15T14:32:19.2456789Z   Contents: write
2024-01-15T14:32:19.2567890Z   Metadata: read
2024-01-15T14:32:19.2678901Z ##[endgroup]
2024-01-15T14:32:19.3456789Z Secret source: Actions
2024-01-15T14:32:19.4567890Z Prepare workflow directory
2024-01-15T14:32:19.5678901Z Prepare all required actions
2024-01-15T14:32:19.6789012Z Getting action download info
2024-01-15T14:32:20.1234567Z ##[section]Starting: Setup environment
2024-01-15T14:32:20.2345678Z ##[command]echo "Setting up deployment environment..."
2024-01-15T14:32:20.2456789Z Setting up deployment environment...
2024-01-15T14:32:20.3567890Z ##[command]export NODE_ENV=production
2024-01-15T14:32:20.4678901Z ##[command]export DEPLOY_REGION=us-east-1
2024-01-15T14:32:20.5789012Z ##[command]echo "Verifying deployment credentials..."
2024-01-15T14:32:20.5890123Z Verifying deployment credentials...
2024-01-15T14:32:21.1234567Z Credentials verified successfully
2024-01-15T14:32:21.2345678Z ##[section]Finished: Setup environment
2024-01-15T14:32:21.3456789Z ##[section]Starting: Install dependencies
2024-01-15T14:32:21.4567890Z ##[command]npm ci --production
2024-01-15T14:32:23.1234567Z added 342 packages in 1.8s
2024-01-15T14:32:23.2345678Z ##[section]Finished: Install dependencies
2024-01-15T14:32:23.3456789Z ##[section]Starting: Build application
2024-01-15T14:32:23.4567890Z ##[command]npm run build
2024-01-15T14:32:24.5678901Z > build
2024-01-15T14:32:24.6789012Z > webpack --mode production
2024-01-15T14:32:28.1234567Z Hash: 8f7d6e5c4b3a2f1e
2024-01-15T14:32:28.2345678Z Version: webpack 5.89.0
2024-01-15T14:32:28.3456789Z Time: 3542ms
2024-01-15T14:32:28.4567890Z Built at: 01/15/2024 2:32:28 PM
2024-01-15T14:32:28.5678901Z Asset      Size  Chunks             Chunk Names
2024-01-15T14:32:28.6789012Z main.js  234 KiB       0  [emitted]  main
2024-01-15T14:32:28.7890123Z ##[section]Finished: Build application
2024-01-15T14:32:28.8901234Z ##[section]Starting: Configure database
2024-01-15T14:32:28.9012345Z ##[command]echo "Configuring database connection..."
2024-01-15T14:32:28.9123456Z Configuring database connection...
2024-01-15T14:32:29.0234567Z ##[command]./scripts/db-migrate.sh
2024-01-15T14:32:29.1345678Z Connecting to production database...
2024-01-15T14:32:29.2456789Z Host: prod-db-cluster.us-east-1.rds.amazonaws.com
2024-01-15T14:32:29.3567890Z Port: 5432
2024-01-15T14:32:29.4678901Z Database: production_app_db
2024-01-15T14:32:29.5789012Z User: app_deploy_user
2024-01-15T14:32:30.1234567Z Attempting connection with provided credentials...
2024-01-15T14:32:31.2345678Z ##[error]Error: Failed to connect with password: QoC@ffjb0eq_2024_Frpher!
2024-01-15T14:32:31.3456789Z ##[error]Connection authentication failed for user "app_deploy_user"
2024-01-15T14:32:31.4567890Z ##[warning]Retrying with alternate credentials...
2024-01-15T14:32:32.5678901Z Attempting connection retry (1/3)...
2024-01-15T14:32:33.6789012Z Connection successful on retry
2024-01-15T14:32:33.7890123Z Running database migrations...
2024-01-15T14:32:34.8901234Z Migration 001_create_users_table.sql... OK
2024-01-15T14:32:35.9012345Z Migration 002_add_indexes.sql... OK
2024-01-15T14:32:36.0123456Z Migration 003_create_sessions_table.sql... OK
2024-01-15T14:32:36.1234567Z All migrations completed successfully
2024-01-15T14:32:36.2345678Z ##[section]Finished: Configure database
2024-01-15T14:32:36.3456789Z ##[section]Starting: Deploy to production
2024-01-15T14:32:36.4567890Z ##[command]echo "Deploying application to production servers..."
2024-01-15T14:32:36.4678901Z Deploying application to production servers...
2024-01-15T14:32:36.5789012Z ##[command]./scripts/deploy.sh
2024-01-15T14:32:37.1234567Z Syncing files to production servers...
2024-01-15T14:32:38.2345678Z Server 1 (10.0.1.45): Syncing... Done
2024-01-15T14:32:39.3456789Z Server 2 (10.0.1.46): Syncing... Done
2024-01-15T14:32:40.4567890Z Server 3 (10.0.1.47): Syncing... Done
2024-01-15T14:32:41.5678901Z Restarting application services...
2024-01-15T14:32:43.6789012Z All services restarted successfully
2024-01-15T14:32:43.7890123Z ##[section]Finished: Deploy to production
2024-01-15T14:32:43.8901234Z ##[section]Starting: Run health checks
2024-01-15T14:32:43.9012345Z ##[command]curl -f https://api.production.example.com/health
2024-01-15T14:32:44.0123456Z {"status":"healthy","version":"2.4.1","uptime":12}
2024-01-15T14:32:44.1234567Z Health check passed
2024-01-15T14:32:44.2345678Z ##[section]Finished: Run health checks
2024-01-15T14:32:44.3456789Z ##[section]Starting: Notify deployment
2024-01-15T14:32:44.4567890Z ##[command]echo "Sending deployment notifications..."
2024-01-15T14:32:44.4678901Z Sending deployment notifications...
2024-01-15T14:32:44.5789012Z Slack notification sent
2024-01-15T14:32:44.6890123Z Email notification sent
2024-01-15T14:32:44.7901234Z ##[section]Finished: Notify deployment
2024-01-15T14:32:44.8912345Z ##[section]Finishing: Deploy to Production
2024-01-15T14:32:44.9923456Z ##[section]Deployment completed successfully