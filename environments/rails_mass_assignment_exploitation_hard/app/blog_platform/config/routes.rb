BlogPlatform::Application.routes.draw do
  resources :users do
    member do
      patch :update_profile
    end
  end

  resources :posts do
    member do
      patch :publish
    end
  end

  resources :comments, only: [:create, :update, :destroy]

  namespace :admin do
    resources :posts do
      member do
        patch :approve
        patch :update_status
      end
    end
  end

  root to: 'posts#index'
end