2024-01-15 14:32:01 [INFO] Starting deployment process - Batch ID: deploy-20240115-143201
2024-01-15 14:32:01 [INFO] Loading deployment manifest from /opt/deployment/manifest.json
2024-01-15 14:32:02 [INFO] Found 4 applications to deploy: api-service, web-frontend, worker-queue, payment-processor
2024-01-15 14:32:02 [INFO] Creating backup snapshot at /opt/backup/deploy-20240115-143201
2024-01-15 14:32:05 [INFO] Backup snapshot created successfully
2024-01-15 14:32:05 [INFO] Beginning deployment for api-service
2024-01-15 14:32:06 [INFO] Extracting release api-service-v2.4.1 to /opt/apps/api-service/releases/v2.4.1
2024-01-15 14:32:09 [INFO] Release extraction completed for api-service-v2.4.1
2024-01-15 14:32:09 [INFO] Attempting to update symlink /opt/apps/api-service/current -> /opt/apps/api-service/releases/v2.4.1
2024-01-15 14:32:09 [SUCCESS] Symlink updated successfully for api-service
2024-01-15 14:32:10 [INFO] api-service deployment completed successfully
2024-01-15 14:32:10 [INFO] Beginning deployment for web-frontend
2024-01-15 14:32:11 [INFO] Extracting release web-frontend-v3.1.0 to /opt/apps/web-frontend/releases/v3.1.0
2024-01-15 14:32:15 [INFO] Release extraction completed for web-frontend-v3.1.0
2024-01-15 14:32:15 [INFO] Attempting to update symlink /opt/apps/web-frontend/current -> /opt/apps/web-frontend/releases/v3.1.0
2024-01-15 14:32:15 [ERROR] Error: /opt/apps/web-frontend/current is a directory, cannot create symlink
2024-01-15 14:32:15 [ERROR] Cannot remove directory /opt/apps/web-frontend/current - contains active data
2024-01-15 14:32:15 [WARN] web-frontend deployment failed at symlink creation stage
2024-01-15 14:32:16 [INFO] Attempting rollback for web-frontend
2024-01-15 14:32:16 [WARN] Rollback incomplete - manual intervention required
2024-01-15 14:32:17 [INFO] Beginning deployment for worker-queue
2024-01-15 14:32:18 [INFO] Extracting release worker-queue-v1.8.3 to /opt/apps/worker-queue/releases/v1.8.3
2024-01-15 14:32:21 [INFO] Release extraction completed for worker-queue-v1.8.3
2024-01-15 14:32:21 [INFO] Attempting to update symlink /opt/apps/worker-queue/current -> /opt/apps/worker-queue/releases/v1.8.3
2024-01-15 14:32:21 [WARN] Current symlink points to /opt/apps/worker-queue/releases/v1.8.1
2024-01-15 14:32:21 [INFO] Removing old symlink /opt/apps/worker-queue/current
2024-01-15 14:32:22 [SUCCESS] Symlink updated successfully for worker-queue
2024-01-15 14:32:22 [INFO] worker-queue deployment completed successfully
2024-01-15 14:32:22 [INFO] Beginning deployment for payment-processor
2024-01-15 14:32:23 [INFO] Extracting release payment-processor-v4.2.0 to /opt/apps/payment-processor/releases/v4.2.0
2024-01-15 14:32:28 [INFO] Release extraction completed for payment-processor-v4.2.0
2024-01-15 14:32:28 [INFO] Attempting to update symlink /opt/apps/payment-processor/current -> /opt/apps/payment-processor/releases/v4.2.0
2024-01-15 14:32:28 [ERROR] Error: /opt/apps/payment-processor/current is a directory, cannot create symlink
2024-01-15 14:32:28 [WARN] Directory /opt/apps/payment-processor/current contains 47 files
2024-01-15 14:32:29 [ERROR] Cannot remove directory /opt/apps/payment-processor/current - contains active data
2024-01-15 14:32:29 [ERROR] payment-processor deployment failed at symlink creation stage
2024-01-15 14:32:30 [INFO] Checking release directory integrity
2024-01-15 14:32:30 [WARN] Warning: Release directory /opt/apps/web-frontend/releases/v3.0.9 not found
2024-01-15 14:32:31 [WARN] Warning: Release directory /opt/apps/payment-processor/releases/v4.1.8 is incomplete
2024-01-15 14:32:31 [ERROR] Checksum mismatch for /opt/apps/payment-processor/releases/v4.1.8/app.jar
2024-01-15 14:32:32 [INFO] Verifying manifest consistency
2024-01-15 14:32:32 [ERROR] Manifest inconsistency detected for web-frontend: expected v3.1.0, found directory at current
2024-01-15 14:32:33 [ERROR] Manifest inconsistency detected for payment-processor: expected v4.2.0, found directory at current
2024-01-15 14:32:33 [WARN] Circular symlink reference detected at /opt/apps/api-service/releases/v2.3.9/legacy
2024-01-15 14:32:34 [INFO] Deployment summary: 2 successful, 2 failed
2024-01-15 14:32:34 [ERROR] Critical errors encountered during deployment process
2024-01-15 14:32:35 [INFO] Attempting to send failure notification
2024-01-15 14:32:36 [WARN] Notification service unavailable
2024-01-15 14:32:36 [ERROR] Deployment process encountered unrecoverable errors
2024-01-15 14:32:37 [INFO] Cleaning up temporary files
2024-01-15 14:32:38 [WARN] Some applications remain in inconsistent state
2024-01-15 14:32:38 [ERROR] Production environment integrity compromised
2024-01-15 14:32:39 [INFO] Applications in consistent state: api-service, worker-queue
2024-01-15 14:32:39 [ERROR] Applications requiring manual intervention: web-frontend, payment-processor
2024-01-15 14:32:40 [WARN] Release directory /opt/apps/api-service/releases/v2.4.0 exists but not referenced in manifest
2024-01-15 14:32:41 [ERROR] Database migration failed for payment-processor - rolled back
2024-01-15 14:32:42 [WARN] Configuration file mismatch in /opt/apps/web-frontend/current/config/app.conf
2024-01-15 14:32:43 [INFO] Generating deployment report
2024-01-15 14:32:44 [ERROR] Unable to complete deployment report - missing data points
2024-01-15 14:32:45 [FATAL] Deployment process interrupted - manual recovery required
2024-01-15 14:32:45 [FATAL] System state saved to /var/log/deployment/state-20240115-143245.dump