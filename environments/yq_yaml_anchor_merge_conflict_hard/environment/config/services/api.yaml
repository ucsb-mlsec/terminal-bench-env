service:
  name: api
  version: 1.2.0
  type: rest-api
  description: Main API service for backend operations
  
resources:
  <<: *default_resources
  memory: 768Mi
  requests:
    cpu: 500m

environment:
  <<: *common_env
  SERVICE_NAME: api
  PORT: 8080
  LOG_LEVEL: info
  DATABASE_URL: postgres://db:5432/api

ports:
  <<: *standard_ports
  http: 8080
  metrics: 9090

health:
  <<: *missing_health_anchor
  path: /health
  interval: 30s
  timeout: 5s

monitoring:
  <<: *logging_config
  enabled: true
  metrics_path: /metrics

network:
  <<: *logging_config
  mode: bridge
  <<: *network_defaults
  host: 0.0.0.0
  dns:
    - 8.8.8.8
    - 8.8.4.4

scaling:
  min_replicas: 2
  max_replicas: 10
  target_cpu: 75

security:
  <<: *security_defaults
  enable_tls: true
  allowed_origins:
    - https://example.com
    - https://api.example.com