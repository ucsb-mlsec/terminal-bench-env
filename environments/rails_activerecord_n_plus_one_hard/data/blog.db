BEGIN TRANSACTION;

CREATE TABLE authors (
    id INTEGER PRIMARY KEY,
    name TEXT,
    email TEXT
);

CREATE TABLE posts (
    id INTEGER PRIMARY KEY,
    title TEXT,
    content TEXT,
    author_id INTEGER,
    FOREIGN KEY (author_id) REFERENCES authors(id)
);

CREATE TABLE comments (
    id INTEGER PRIMARY KEY,
    body TEXT,
    post_id INTEGER,
    author_id INTEGER,
    FOREIGN KEY (post_id) REFERENCES posts(id),
    FOREIGN KEY (author_id) REFERENCES authors(id)
);

INSERT INTO authors (id, name, email) VALUES
(1, 'John Doe', 'john@example.com'),
(2, 'Jane Smith', 'jane@example.com'),
(3, 'Bob Wilson', 'bob@example.com'),
(4, 'Alice Johnson', 'alice@example.com'),
(5, 'Charlie Brown', 'charlie@example.com'),
(6, 'Diana Prince', 'diana@example.com'),
(7, 'Eve Davis', 'eve@example.com'),
(8, 'Frank Miller', 'frank@example.com'),
(9, 'Grace Lee', 'grace@example.com'),
(10, 'Henry Taylor', 'henry@example.com');

INSERT INTO posts (id, title, content, author_id) VALUES
(1, 'Getting Started with Ruby', 'Ruby is a dynamic, open source programming language with a focus on simplicity and productivity.', 1),
(2, 'Understanding ActiveRecord', 'ActiveRecord is the M in MVC - the model - which is the layer of the system responsible for representing business data and logic.', 2),
(3, 'Database Optimization Tips', 'Learn how to optimize your database queries for better performance.', 3),
(4, 'Web Development Best Practices', 'Following best practices ensures your code is maintainable and scalable.', 1),
(5, 'Introduction to SQL', 'SQL is a standard language for storing, manipulating and retrieving data in databases.', 4),
(6, 'Rails Performance Guide', 'Performance optimization is crucial for any production Rails application.', 2),
(7, 'Testing Ruby Applications', 'Testing is an essential part of software development that ensures code quality.', 5),
(8, 'RESTful API Design', 'REST is an architectural style for designing networked applications.', 3),
(9, 'Managing Database Migrations', 'Database migrations help you evolve your database schema over time.', 6),
(10, 'Security in Web Applications', 'Security should be a top priority when building web applications.', 4),
(11, 'Working with JSON in Ruby', 'JSON has become the de facto standard for data interchange on the web.', 7),
(12, 'Understanding MVC Architecture', 'MVC is a software design pattern that separates an application into three main components.', 8),
(13, 'Debugging Ruby Code', 'Effective debugging techniques can save you hours of frustration.', 5),
(14, 'Version Control with Git', 'Git is the most widely used version control system in the world.', 9),
(15, 'Building Scalable Applications', 'Scalability should be considered from the start of your project.', 6),
(16, 'Front-end Integration', 'Modern web applications require seamless integration between frontend and backend.', 10),
(17, 'Database Indexing Strategies', 'Proper indexing can dramatically improve query performance.', 7),
(18, 'Error Handling in Ruby', 'Proper error handling makes your application more robust and user-friendly.', 8),
(19, 'Caching Strategies', 'Caching is one of the most effective ways to improve application performance.', 9),
(20, 'Deployment Best Practices', 'Deploying applications requires careful planning and execution.', 10);

INSERT INTO comments (id, body, post_id, author_id) VALUES
(1, 'Great introduction! Very helpful for beginners.', 1, 2),
(2, 'I learned a lot from this post, thanks!', 1, 3),
(3, 'Could you provide more examples?', 1, 4),
(4, 'This is exactly what I needed to understand ActiveRecord better.', 2, 1),
(5, 'Very comprehensive explanation.', 2, 5),
(6, 'These optimization tips saved me hours of work!', 3, 6),
(7, 'Excellent advice on database performance.', 3, 7),
(8, 'I implemented these tips and saw immediate improvements.', 3, 8),
(9, 'Best practices are so important in web development.', 4, 9),
(10, 'This should be required reading for all developers.', 4, 10),
(11, 'SQL can be tricky, but this makes it clear.', 5, 1),
(12, 'Nice breakdown of SQL fundamentals.', 5, 2),
(13, 'Performance is often overlooked, glad to see this covered.', 6, 3),
(14, 'I need to apply these techniques to my Rails app.', 6, 4),
(15, 'Testing has made my code so much more reliable.', 7, 5),
(16, 'What testing framework do you recommend?', 7, 6),
(17, 'Great insights on testing strategies.', 7, 7),
(18, 'RESTful design is the way to go for APIs.', 8, 8),
(19, 'This clarified a lot of confusion about REST.', 8, 9),
(20, 'Migrations are a lifesaver when working in teams.', 9, 10),
(21, 'How do you handle migration conflicts?', 9, 1),
(22, 'Security should always be priority number one.', 10, 2),
(23, 'What are the most common security vulnerabilities?', 10, 3),
(24, 'Thanks for highlighting security concerns.', 10, 4),
(25, 'JSON is so much easier to work with than XML.', 11, 5),
(26, 'Great examples of JSON parsing in Ruby.', 11, 6),
(27, 'MVC makes so much sense now!', 12, 7),
(28, 'This helped me understand the separation of concerns.', 12, 8),
(29, 'Debugging tips are always appreciated.', 13, 9),
(30, 'I wish I had read this earlier!', 13, 10),
(31, 'Git has completely changed how I work.', 14, 1),
(32, 'Version control is essential for any project.', 14, 2),
(33, 'Scalability is harder than it looks.', 15, 3),
(34, 'These strategies will help us grow our application.', 15, 4),
(35, 'Frontend and backend integration can be challenging.', 16, 5),
(36, 'This provides a good roadmap for integration.', 16, 6),
(37, 'Indexing made such a huge difference in our app performance.', 17, 7),
(38, 'When should I add indexes to my database?', 17, 8),
(39, 'Error handling is often neglected but so important.', 18, 9),
(40, 'Good error messages make debugging easier.', 18, 10),
(41, 'Caching can be tricky to get right.', 19, 1),
(42, 'What caching strategy do you recommend for Rails?', 19, 2),
(43, 'Our cache hit rate improved dramatically after reading this.', 19, 3),
(44, 'Deployment is always nerve-wracking.', 20, 4),
(45, 'These best practices will make our deployments smoother.', 20, 5),
(46, 'Do you have any tips for zero-downtime deployments?', 20, 6),
(47, 'Really appreciate the practical examples.', 1, 7),
(48, 'This blog has become my go-to resource.', 5, 8),
(49, 'Looking forward to more posts like this!', 10, 9),
(50, 'Keep up the excellent work!', 15, 10);

COMMIT;