# SLURM Configuration File - Production Cluster
# Current configuration contains errors in power save settings

ClusterName=production
SlurmctldHost=slurm-controller
SlurmUser=slurm

# State and logging
StateSaveLocation=/var/spool/slurm/ctld
SlurmdSpoolDir=/var/spool/slurm/d
SlurmctldLogFile=/var/log/slurm/slurmctld.log
SlurmdLogFile=/var/log/slurm/slurmd.log

# Power Save Configuration (CONTAINS ERRORS)
SuspendTime=600
ResumeTimeout=150
SuspendTimeout=60
SuspendProgram=/usr/bin/suspend_node.sh
ResumeProgram=/usr/bin/resume_node.sh
SuspendExcNodes=compute-[01-06]

# Process tracking
ProctrackType=proctrack/cgroup
TaskPlugin=task/cgroup
ReturnToService=2

# Scheduling
SchedulerType=sched/backfill
SelectType=select/cons_tres
SelectTypeParameters=CR_Core_Memory

# Accounting
AccountingStorageType=accounting_storage/slurmdbd
AccountingStorageHost=slurm-controller
AccountingStoragePort=6819

# Resource limits
MaxJobCount=10000
MaxArraySize=1000

# Timeouts
MessageTimeout=10
TCPTimeout=5
InactiveLimit=0
MinJobAge=300
KillWait=30
Waittime=0

# Node definitions
Include /etc/slurm/nodes.conf

# Partition definitions will be loaded from nodes.conf