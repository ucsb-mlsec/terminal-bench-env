# Spark Configuration for Production Environment
# Last updated: 2024-01-15

# Cluster Configuration
spark.master=yarn
spark.submit.deployMode=client

# Executor Configuration
spark.executor.memory=8g
spark.executor.cores=4
spark.executor.instances=20

# Driver Configuration
spark.driver.memory=4g
spark.driver.cores=2

# Parallelism and Partitioning
spark.default.parallelism=500
spark.sql.shuffle.partitions=500

# Dynamic Allocation
spark.dynamicAllocation.enabled=true
spark.dynamicAllocation.minExecutors=5
spark.dynamicAllocation.maxExecutors=50
spark.dynamicAllocation.initialExecutors=10

# Shuffle Configuration
spark.shuffle.service.enabled=true
spark.shuffle.compress=true
spark.shuffle.spill.compress=true

# Speculation Configuration (currently disabled)
spark.speculation=false

# Memory Management
spark.memory.fraction=0.8
spark.memory.storageFraction=0.3

# Network Configuration
spark.network.timeout=300s
spark.rpc.askTimeout=300s

# Serialization
spark.serializer=org.apache.spark.serializer.KryoSerializer
spark.kryoserializer.buffer.max=512m