I need to analyze the FTP archive directory and extract all credentials. Let me start by exploring the directory structure and searching for credential files.

```bash
#!/bin/bash

# Create output file
OUTPUT_FILE="/tmp/exposed_credentials.txt"
> "$OUTPUT_FILE"

# Temporary file for unsorted credentials
TEMP_FILE="/tmp/temp_creds.txt"
> "$TEMP_FILE"

# Function to check if file is binary
is_binary() {
    if file "$1" | grep -q "text"; then
        return 1
    fi
    return 0
}

# Function to extract credentials from a line
extract_creds() {
    local line="$1"
    local file="$2"
    
    # Common credential patterns
    if echo "$line" | grep -qiE "(password|passwd|pwd|token|api_key|secret|auth|credential|username|user|db_pass|mysql|postgres|redis|key|access)"; then
        
        # Pattern: KEY=VALUE or KEY="VALUE" or KEY='VALUE'
        if echo "$line" | grep -qE "^[A-Za-z_][A-Za-z0-9_]*\s*=\s*.+"; then
            key=$(echo "$line" | sed -E "s/^([A-Za-z_][A-Za-z0-9_]*)\s*=.*/\1/")
            value=$(echo "$line" | sed -E "s/^[A-Za-z_][A-Za-z0-9_]*\s*=\s*['\"]?([^'\"]+)['\"]?.*/\1/" | xargs)
            if [ -n "$value" ] && [ "$value" != "$line" ]; then
                echo "$key:$value" >> "$TEMP_FILE"
            fi
        fi
        
        # Pattern: "key": "value" (JSON)
        if echo "$line" | grep -qE '\"[^\"]+\"\s*:\s*\"[^\"]+\"'; then
            key=$(echo "$line" | sed -E 's/.*"([^"]+)"\s*:\s*"[^"]+".*/\1/')
            value=$(echo "$line" | sed -E 's/.*"[^"]+"\s*:\s*"([^"]+)".*/\1/')
            if [ -n "$value" ] && [ "$value" != "$line" ]; then
                echo "$key:$value" >> "$TEMP_FILE"
            fi
        fi
        
        # Pattern: key:value (YAML style)
        if echo "$line" | grep -qE "^[A-Za-z_][A-Za-z0-9_]*\s*:\s*.+" && ! echo "$line" | grep -q "http"; then
            key=$(echo "$line" | sed -E "s/^([A-Za-z_][A-Za-z0-9_]*)\s*:.*/\1/")
            value=$(echo "$line" | sed -E "s/^[A-Za-z_][A-Za-z0-9_]*\s*:\s*['\"]?([^'\"]+)['\"]?.*/\1/" | xargs)
            if [ -n "$value" ] && [ "$value" != "$line" ]; then
                echo "$key:$value" >> "$TEMP_FILE"
            fi
        fi
    fi
}

# Search through all files
find /tmp/ftp_archive -type f | while read -r file; do
    # Skip binary files
    if is_binary "$file"; then
        continue
    fi
    
    # Read file line by line
    while IFS= read -r line; do
        extract_creds "$line" "$file"
    done < "$file"
done

# Check for base64 encoded credentials and decode them
while IFS=: read -r key value; do
    # Try to detect base64 (alphanumeric + / + = and right length)
    if echo "$value" | grep -qE "^[A-Za-z0-9+/]+=*$" && [ ${#value} -ge 16 ]; then
        decoded=$(echo "$value" | base64 -d 2>/dev/null)
        if [ $? -eq 0 ] && [ -n "$decoded" ]; then
            # Check if decoded value looks like text
            if echo "$decoded" | grep -qE "^[[:print:]]+$"; then
                echo "$key:$decoded" >> "$TEMP_FILE.decoded"
            else
                echo "$key:$value" >> "$TEMP_FILE.decoded"
            fi
        else
            echo "$key:$value" >> "$TEMP_FILE.decoded"
        fi
    else
        echo "$key:$value" >> "$TEMP_FILE.decoded"
    fi
done < "$TEMP_FILE"

# Remove duplicates and sort
sort -u -t: -k1,1f "$TEMP_FILE.decoded" > "$OUTPUT_FILE"

# Cleanup
rm -f "$TEMP_FILE" "$TEMP_FILE.decoded"
```

Wait, I need to first check what files actually exist in the `/tmp/ftp_archive/` directory. Let me create a more robust script that handles the actual file structure: