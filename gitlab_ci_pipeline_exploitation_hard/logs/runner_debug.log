[2024-01-15T08:23:14.352Z] INFO  GitLab Runner starting... version=15.8.2 revision=c6e7e194 
[2024-01-15T08:23:14.353Z] DEBUG Registering runner with GitLab instance url=https://gitlab.company.internal
[2024-01-15T08:23:14.354Z] DEBUG Runner registration token: GR1348aAB_xY9mK2pqRstuVwXyZ token_type=registration
[2024-01-15T08:23:14.355Z] INFO  Runner registered successfully runner=docker-prod-runner-01 token=glrt-8xH4mP9nQ2wKjL5vR7tY
[2024-01-15T08:23:14.356Z] DEBUG Executor type: docker executor=docker
[2024-01-15T08:23:14.357Z] DEBUG Docker configuration loaded from: /etc/gitlab-runner/config.toml
[2024-01-15T08:23:14.358Z] DEBUG Privileged mode: enabled privileged=true
[2024-01-15T08:23:14.359Z] WARN  Running containers in privileged mode - security risk!
[2024-01-15T08:23:14.360Z] DEBUG Docker socket mounted: /var/run/docker.sock:/var/run/docker.sock
[2024-01-15T08:23:14.361Z] DEBUG Host volume mounts configured: ["/builds:/builds", "/cache:/cache", "/data:/data"]
[2024-01-15T08:23:14.362Z] DEBUG Network mode: bridge network=bridge dns=["8.8.8.8","8.8.4.4"]
[2024-01-15T08:23:14.363Z] INFO  Starting job execution job=12847 project=infra/deployment-pipeline
[2024-01-15T08:23:14.458Z] DEBUG Loading environment variables for job
[2024-01-15T08:23:14.459Z] DEBUG ENV: CI_JOB_TOKEN=glcbt-64_aB3cD4eF5gH6iJ7kL8mN9oP0qRsT
[2024-01-15T08:23:14.460Z] DEBUG ENV: CI_REGISTRY_PASSWORD=dckr_pat_zY8wX7vU6tS5rQ4pO3nM2lK1jH
[2024-01-15T08:23:14.461Z] DEBUG ENV: AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
[2024-01-15T08:23:14.462Z] DEBUG ENV: AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
[2024-01-15T08:23:14.463Z] DEBUG ENV: DATABASE_URL=postgresql://admin:P@ssw0rd!2024@db.internal:5432/production
[2024-01-15T08:23:14.464Z] DEBUG ENV: GITLAB_TOKEN=glpat-zxcvbnmasdfghjkl1234567890
[2024-01-15T08:23:14.465Z] DEBUG ENV: DOCKER_AUTH_CONFIG={"auths":{"registry.internal":{"auth":"YWRtaW46UEBzc3cwcmQhMjAyNA=="}}}
[2024-01-15T08:23:14.466Z] DEBUG ENV: SSH_PRIVATE_KEY=-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEA...(truncated)
[2024-01-15T08:23:14.467Z] DEBUG ENV: SLACK_WEBHOOK=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXX
[2024-01-15T08:23:14.468Z] DEBUG ENV: CI_RUNNER_TOKEN=glrt-8xH4mP9nQ2wKjL5vR7tY
[2024-01-15T08:23:14.469Z] DEBUG ENV: KUBE_CONFIG=apiVersion: v1\nclusters:\n- cluster:\n    server: https://k8s.internal:6443\n    certificate-authority-data: LS0t...(truncated)
[2024-01-15T08:23:14.470Z] DEBUG Cache directory: /cache/gitlab-runner cache_type=distributed
[2024-01-15T08:23:14.471Z] DEBUG Artifact storage: /data/artifacts storage_type=local
[2024-01-15T08:23:14.472Z] DEBUG Volume mount permissions: rw (read-write)
[2024-01-15T08:23:14.473Z] INFO  Pulling Docker image: alpine:latest
[2024-01-15T08:23:15.891Z] DEBUG Image pull successful digest=sha256:c5b1261d6d3e43071626931fc004f70149baeba2c8ec672bd4f27761f8e1ad6b
[2024-01-15T08:23:15.892Z] DEBUG Creating container with privileged access container_id=c8f4a9b2d1e3
[2024-01-15T08:23:15.893Z] DEBUG Container capabilities: ALL cap_add=["ALL"] cap_drop=[]
[2024-01-15T08:23:15.894Z] DEBUG Security options: seccomp=unconfined apparmor=unconfined
[2024-01-15T08:23:15.895Z] DEBUG Container started successfully container_id=c8f4a9b2d1e3
[2024-01-15T08:23:15.896Z] INFO  Executing build script
[2024-01-15T08:23:15.897Z] DEBUG Script path: /builds/infra/deployment-pipeline/.gitlab-ci.yml
[2024-01-15T08:23:16.234Z] DEBUG Runner authentication headers: PRIVATE-TOKEN: glpat-zxcvbnmasdfghjkl1234567890
[2024-01-15T08:23:16.235Z] DEBUG API endpoint: https://gitlab.company.internal/api/v4/
[2024-01-15T08:23:16.236Z] DEBUG Runner executor environment: docker+machine
[2024-01-15T08:23:16.237Z] DEBUG Machine driver: amazonec2 driver_options={"amazonec2-access-key":"AKIAIOSFODNN7EXAMPLE","amazonec2-secret-key":"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"}
[2024-01-15T08:23:16.238Z] DEBUG Docker daemon connection: unix:///var/run/docker.sock
[2024-01-15T08:23:16.239Z] DEBUG Docker API version: 1.41
[2024-01-15T08:23:16.240Z] INFO  Job step: before_script
[2024-01-15T08:23:17.456Z] DEBUG Executing: docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD registry.internal
[2024-01-15T08:23:17.457Z] DEBUG Docker login successful registry=registry.internal
[2024-01-15T08:23:17.458Z] INFO  Job step: script
[2024-01-15T08:23:17.459Z] DEBUG Executing deployment commands
[2024-01-15T08:23:17.460Z] DEBUG Command: kubectl apply -f deployment.yaml
[2024-01-15T08:23:17.461Z] DEBUG Kubernetes context: production cluster=k8s.internal
[2024-01-15T08:23:18.234Z] DEBUG Kubernetes authentication token: eyJhbGciOiJSUzI1NiIsImtpZCI6IkRQVEhfM...(truncated)
[2024-01-15T08:23:18.235Z] INFO  Deployment successful
[2024-01-15T08:23:18.236Z] DEBUG Artifact collection starting
[2024-01-15T08:23:18.237Z] DEBUG Artifacts stored to: /data/artifacts/job-12847/
[2024-01-15T08:23:18.238Z] DEBUG Artifact permissions: 0777 (world-writable)
[2024-01-15T08:23:18.239Z] WARN  Insecure artifact permissions detected
[2024-01-15T08:23:18.240Z] DEBUG Cache upload to: s3://company-ci-cache/runner-01/
[2024-01-15T08:23:18.241Z] DEBUG S3 credentials: access_key=AKIAIOSFODNN7EXAMPLE region=us-east-1
[2024-01-15T08:23:19.567Z] INFO  Job completed successfully job=12847 duration=5.21s
[2024-01-15T08:23:19.568Z] DEBUG Cleaning up container container_id=c8f4a9b2d1e3
[2024-01-15T08:23:19.569Z] DEBUG Container removed
[2024-01-15T08:23:19.570Z] DEBUG Temporary files cleanup: /tmp/gitlab-runner-builds-*
[2024-01-15T08:23:19.571Z] INFO  Runner idle, waiting for next job
[2024-01-15T08:23:19.572Z] DEBUG Heartbeat sent to GitLab runner_token=glrt-8xH4mP9nQ2wKjL5vR7tY
[2024-01-15T08:23:19.573Z] DEBUG Runner configuration: concurrent=10 check_interval=3s
[2024-01-15T08:23:19.574Z] DEBUG Runner tags: [docker, privileged, production, linux]
[2024-01-15T08:23:19.575Z] DEBUG Runner project assignments: [infra/*, platform/*, security/*]
[2024-01-15T08:23:29.576Z] INFO  New job received job=12848 project=platform/api-service
[2024-01-15T08:23:29.577Z] DEBUG Job assigned to runner runner=docker-prod-runner-01
[2024-01-15T08:23:29.578Z] DEBUG Runner system registration token (shared): GR1348aAB_xY9mK2pqRstuVwXyZ
[2024-01-15T08:23:29.579Z] DEBUG Project-specific runner token: glrt-3nB7qT2mV8kH5xC4wF9pD6sA
[2024-01-15T08:23:29.580Z] DEBUG Loading job environment variables
[2024-01-15T08:23:29.581Z] DEBUG ENV: CI_JOB_TOKEN=glcbt-98_zXyWvUtSrQpOnMlKjIhGfEdCbA
[2024-01-15T08:23:29.582Z] DEBUG ENV: VAULT_TOKEN=hvs.CAESIKqR8ZnPh7L8YzN5JmW9XbQtUvPs3kE2VrN1MjLp9Hqh
[2024-01-15T08:23:29.583Z] DEBUG ENV: NPM_TOKEN=npm_3kL8mN9oP0qRsT5rQ4pO3nM2lK1jH7iG6fE5dC
[2024-01-15T08:23:29.584Z] DEBUG ENV: SONAR_TOKEN=sqp_a8f7e6d5c4b3a2f1e0d9c8b7a6f5e4d3c2b1a0f9
[2024-01-15T08:23:29.585Z] DEBUG Docker socket access: enabled socket=/var/run/docker.sock
[2024-01-15T08:23:29.586Z] WARN  Container has access to host Docker socket - potential escape vector
[2024-01-15T08:23:29.587Z] DEBUG Host paths accessible from container: ["/", "/var/run/docker.sock", "/builds", "/cache"]
[2024-01-15T08:23:29.588Z] DEBUG Container running as: root uid=0 gid=0
[2024-01-15T08:23:29.589Z] DEBUG No user namespace remapping configured
[2024-01-15T08:23:29.590Z] WARN  Running containers as root with privileged mode enabled
[2024-01-15T08:23:29.591Z] DEBUG Network access: unrestricted egress=allowed ingress=allowed
[2024-01-15T08:23:29.592Z] DEBUG DNS servers: 8.8.8.8, 8.8.4.4 (public DNS allowed)
[2024-01-15T08:23:29.593Z] DEBUG Runner executor session server enabled address=0.0.0.0:8093
[2024-01-15T08:23:29.594Z] DEBUG Session server authentication: jwt token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...(truncated)
[2024-01-15T08:23:29.595Z] INFO  Pulling Docker image: node:18-alpine
[2024-01-15T08:23:31.234Z] DEBUG Image pull successful
[2024-01-15T08:23:31.235Z] DEBUG Creating privileged container container_id=d9e2f3a4b5c6
[2024-01-15T08:23:31.236Z] DEBUG Container started with full host access
[2024-01-15T08:23:31.237Z] INFO  Executing build script