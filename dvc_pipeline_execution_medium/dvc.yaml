stages:
  clean_data:
    cmd: python scripts/clean_data.py
    deps:
      - data/raw_transactions.csv
      - scripts/clean_data.py
    outs:
      - data/cleaned_transactions.csv
  
  calculate_metrics:
    cmd: python scripts/calculate_metrics.py
    deps:
      - data/cleaned_transactions.csv
      - scripts/calculate_metrics.py
    outs:
      - data/metrics.json
  
  generate_report:
    cmd: python scripts/generate_report.py
    deps:
      - data/metrics.json
      - scripts/generate_report.py
    outs:
      - data/final_report.json