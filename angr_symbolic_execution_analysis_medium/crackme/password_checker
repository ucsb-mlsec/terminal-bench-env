#include <stdio.h>
#include <string.h>
#include <stdlib.h>

int main() {
    char password[100];
    int i, sum = 0;
    int length;
    
    // Read password from stdin
    if (fgets(password, sizeof(password), stdin) == NULL) {
        printf("ACCESS DENIED\n");
        return 1;
    }
    
    // Remove newline if present
    length = strlen(password);
    if (length > 0 && password[length-1] == '\n') {
        password[length-1] = '\0';
        length--;
    }
    
    // Check 1: Password must be exactly 12 characters long
    if (length != 12) {
        printf("ACCESS DENIED\n");
        return 1;
    }
    
    // Check 2: Must start with 'S' and end with '!'
    if (password[0] != 'S' || password[11] != '!') {
        printf("ACCESS DENIED\n");
        return 1;
    }
    
    // Check 3: Characters at positions 1,2,3 must be digits
    if (password[1] < '0' || password[1] > '9' ||
        password[2] < '0' || password[2] > '9' ||
        password[3] < '0' || password[3] > '9') {
        printf("ACCESS DENIED\n");
        return 1;
    }
    
    // Check 4: Sum of the three digits must equal 15
    sum = (password[1] - '0') + (password[2] - '0') + (password[3] - '0');
    if (sum != 15) {
        printf("ACCESS DENIED\n");
        return 1;
    }
    
    // Check 5: Characters 4-7 must spell 'cure'
    if (password[4] != 'c' || password[5] != 'u' || 
        password[6] != 'r' || password[7] != 'e') {
        printf("ACCESS DENIED\n");
        return 1;
    }
    
    // Check 6: Characters 8-10 must be uppercase letters
    if (password[8] < 'A' || password[8] > 'Z' ||
        password[9] < 'A' || password[9] > 'Z' ||
        password[10] < 'A' || password[10] > 'Z') {
        printf("ACCESS DENIED\n");
        return 1;
    }
    
    // Check 7: XOR of characters 8-10 must equal 42
    int xor_result = password[8] ^ password[9] ^ password[10];
    if (xor_result != 42) {
        printf("ACCESS DENIED\n");
        return 1;
    }
    
    // All checks passed
    printf("ACCESS GRANTED\n");
    return 0;
}