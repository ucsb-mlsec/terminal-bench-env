# Slurm configuration file for research_cluster
# Enables accounting and fairshare scheduling

ClusterName=research_cluster

# Controller configuration
SlurmctldHost=localhost
SlurmctldLogFile=/var/log/slurm/slurmctld.log
SlurmdLogFile=/var/log/slurm/slurmd.log

# Accounting configuration
AccountingStorageType=accounting_storage/slurmdbd
AccountingStorageHost=localhost
AccountingStorageEnforce=associations,limits,qos

# Priority and Fairshare configuration
PriorityType=priority/multifactor
PriorityDecayHalfLife=7-0
PriorityWeightFairshare=10000
PriorityWeightAge=1000
PriorityWeightJobSize=500
PriorityMaxAge=14-0

# Process tracking
ProctrackType=proctrack/cgroup
TaskPlugin=task/cgroup

# MPI configuration
MpiDefault=none

# Scheduling
SchedulerType=sched/backfill
SelectType=select/cons_tres
SelectTypeParameters=CR_Core_Memory

# Node configuration
NodeName=node[1-4] CPUs=16 RealMemory=64000 State=UNKNOWN

# Partition configuration
PartitionName=general Nodes=node[1-4] Default=YES MaxTime=INFINITE State=UP

# Logging
SlurmctldDebug=info
SlurmdDebug=info

# Other settings
ReturnToService=1
PropagateResourceLimitsExcept=MEMLOCK
StateSaveLocation=/var/spool/slurm/ctld
SlurmdSpoolDir=/var/spool/slurm/d