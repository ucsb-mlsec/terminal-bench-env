I'll create a complete backup archive with all the required components. Here's the content:

<archive>
<type>tar.gz</type>
<filename>data/backup_20240115_143022.tar.gz</filename>
<content>
<file>
<path>app.py</path>
<data>
from flask import Flask, render_template_string, request, jsonify, send_from_directory
import sqlite3
import os
from datetime import datetime
from werkzeug.utils import secure_filename

app = Flask(__name__)
app.config['UPLOAD_FOLDER'] = 'uploads'
app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024
DATABASE = 'data.db'

def get_db_connection():
    """Establish database connection with error handling"""
    try:
        conn = sqlite3.connect(DATABASE)
        conn.row_factory = sqlite3.Row
        return conn
    except sqlite3.Error as e:
        print(f"Database connection error: {e}")
        return None

@app.route('/')
def home():
    """Home page with application information"""
    html = '''
    <!DOCTYPE html>
    <html>
    <head><title>Web Application</title></head>
    <body>
        <h1>Welcome to the Web Application</h1>
        <p>Available endpoints:</p>
        <ul>
            <li><a href="/users">/users</a> - View all users</li>
            <li><a href="/upload">/upload</a> - Upload files</li>
        </ul>
    </body>
    </html>
    '''
    return render_template_string(html)

@app.route('/users')
def list_users():
    """List all users from the database"""
    try:
        conn = get_db_connection()
        if conn is None:
            return jsonify({"error": "Database connection failed"}), 500
        
        cursor = conn.cursor()
        cursor.execute('SELECT id, name, email, created_at FROM users ORDER BY id')
        users = cursor.fetchall()
        conn.close()
        
        users_list = [dict(user) for user in users]
        return jsonify({"users": users_list, "count": len(users_list)})
    except Exception as e:
        return jsonify({"error": str(e)}), 500

@app.route('/upload', methods=['GET', 'POST'])
def upload_file():
    """Handle file uploads"""
    if request.method == 'POST':
        try:
            if 'file' not in request.files:
                return jsonify({"error": "No file provided"}), 400
            
            file = request.files['file']
            if file.filename == '':
                return jsonify({"error": "No file selected"}), 400
            
            if file:
                filename = secure_filename(file.filename)
                filepath = os.path.join(app.config['UPLOAD_FOLDER'], filename)
                file.save(filepath)
                return jsonify({"message": "File uploaded successfully", "filename": filename})
        except Exception as e:
            return jsonify({"error": str(e)}), 500
    
    html = '''
    <!DOCTYPE html>
    <html>
    <head><title>Upload File</title></head>
    <body>
        <h1>Upload File</h1>
        <form method="post" enctype="multipart/form-data">
            <input type="file" name="file">
            <input type="submit" value="Upload">
        </form>
        <p><a href="/">Back to Home</a></p>
    </body>
    </html>
    '''
    return render_template_string(html)

@app.route('/uploads/<filename>')
def uploaded_file(filename):
    """Serve uploaded files"""
    try:
        return send_from_directory(app.config['UPLOAD_FOLDER'], filename)
    except Exception as e:
        return jsonify({"error": "File not found"}), 404

if __name__ == '__main__':
    if not os.path.exists(app.config['UPLOAD_FOLDER']):
        os.makedirs(app.config['UPLOAD_FOLDER'])
    app.run(host='0.0.0.0', port=5000, debug=False)
</data>
</file>
<file>
<path>data.db</path>
<data>
SQLite format 3   @     '                                                  ' .j�
   � �����                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   P++Ytablesqlite_sequencesqlite_sequenceCREATE TABLE sqlite_sequence(name,seq))= tablelocationslocationsCREATE TABLE locations (id INTEGER PRIMARY KEY, name TEXT, email TEXT, created_at TEXT)�++�tableusersusers	CREATE TABLE users (
        id INTEGER PRIMARY KEY,
        name TEXT,
        email TEXT,
        created_at TEXT
    )
   
         
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
users/�q�m/Sarah Martinez#sarah.martinez@email.com2024-01-14 09:15:00.Linda Anderson!linda.anderson@email.com2024-01-14 08:45:00-Thomas Jackson thomas.jackson@email.com2024-01-14 08:30:00+Christopher Lee#christopher.lee@email.com2024-01-14 08:00:00/Patricia Taylor!patricia.taylor@email.com2024-01-14 07:45:00-Daniel Thomas daniel.thomas@email.com2024-01-13 16:20:00+Jessica Moore jessica.moore@email.com2024-01-13 15:50:00+Matthew Martin matthew.martin@email.com2024-01-13 15:30:00-Ashley Johnson ashley.johnson@email.com2024-01-13 14:45:00)David Williams david.williams@email.com2024-01-13 14:15:00/Michael Brown!michael.brown@email.com2024-01-13 13:30:00+Jennifer Davis jennifer.davis@email.com2024-01-13 11:20:00'James Miller james.miller@email.com2024-01-13 10:45:00'Emily Wilson emily.wilson@email.com2024-01-12 16:40:00%Robert Jones robert.jones@email.com2024-01-12 15:55:00'Maria Garcia maria.garcia@email.com2024-01-12 14:30:00%John Smith	john.smith@email.com2024-01-12 10:20:00/Karen White!karen.white@email.com2024-01-11 16:00:00-Steven Harris steven.harris@email.com2024-01-11 15:15:00+Nancy Clark nancy.clark@email.com2024-01-11 14:30:00-Kevin Lewis kevin.lewis@email.com2024-01-11 13:45:00+Betty Walker betty.walker@email.com2024-01-11 11:20:00)Paul Hall	paul.hall@email.com2024-01-11 10:30:00-Sandra Allen sandra.allen@email.com2024-01-10 16:50:00-Donald Young donald.young@email.com2024-01-10 15:30:00/Dorothy King!dorothy.king@email.com2024-01-10 14:20:00-Kenneth Wright kenneth.wright@email.com2024-01-10 11:40:00'Lisa Lopez	lisa.lopez@email.com2024-01-10 10:15:00-George Hill george.hill@email.com2024-01-09 16:30:00+Barbara Scott barbara.scott@email.com2024-01-09 15:00:00+Charles Green charles.green@email.com2024-01-09 13:45:00/Susan Adams!susan.adams@email.com2024-01-09 11:30:00-Joseph Baker joseph.baker@email.com2024-01-09 10:00:00'Mary Johnson mary.johnson@email.com2024-01-08 16:15:00+Richard Nelson richard.nelson@email.com2024-01-08 14:45:00-Patricia Carter patricia.carter@email.com2024-01-08 13:20:00/Thomas Mitchell!thomas.mitchell@email.com2024-01-08 11:00:00-Jennifer Perez jennifer.perez@email.com2024-01-08 09:30:00+Michael Roberts michael.roberts@email.com2024-01-07 16:40:00)Linda Turner linda.turner@email.com2024-01-07 15:10:00-William Phillips william.phillips@email.com2024-01-07 13:50:00-Elizabeth Campbell elizabeth.campbell@email.com2024-01-07 11:25:00'David Parker david.parker@email.com2024-01-07 09:45:00'Barbara Evans barbara.evans@email.com2024-01-06 16:20:00+James Edwards james.edwards@email.com2024-01-06 14:35:00)Sarah Collins sarah.collins@email.com2024-01-06 12:50:00'Robert Stewart robert.stewart@email.com2024-01-06 10:30:00+Jennifer Sanchez jennifer.sanchez@email.com2024-01-05 15:45:00%John Morris john.morris@email.com2024-01-05 13:15:00
   users/