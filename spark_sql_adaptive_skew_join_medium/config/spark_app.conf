# Current Spark Configuration for Sales Data Processor
# This configuration is experiencing severe performance issues due to data skew
# Certain customer IDs have 100x more transactions than others, causing partition imbalance
# Adaptive execution and skew join handling are currently DISABLED

# Application Identification
spark.app.name=SalesDataProcessor

# Adaptive Query Execution - CURRENTLY DISABLED
spark.sql.adaptive.enabled=false
spark.sql.adaptive.skewJoin.enabled=false

# Shuffle Configuration
spark.sql.shuffle.partitions=200
spark.default.parallelism=100

# Executor Configuration
spark.executor.memory=4g
spark.executor.cores=4
spark.executor.instances=10

# Driver Configuration
spark.driver.memory=2g
spark.driver.cores=2

# Join Configuration
spark.sql.autoBroadcastJoinThreshold=10485760

# Serialization
spark.serializer=org.apache.spark.serializer.KryoSerializer

# Network timeout settings
spark.network.timeout=300s