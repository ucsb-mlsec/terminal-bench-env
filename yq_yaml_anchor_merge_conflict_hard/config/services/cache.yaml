service:
  name: cache
  type: redis
  version: 6.2
  <<: *base_service_config

resources:
  <<: *default_resources
  memory: 2048Mi
  cpu: 1000m

environment:
  <<: *common_env
  SERVICE_NAME: cache
  REDIS_PORT: 6379
  REDIS_MAXMEMORY: 1536Mi

persistence:
  enabled: true
  storage: /data
  snapshot_interval: 300s
  <<: *persistence_defaults

eviction:
  policy: allkeys-lru
  max_memory: 1536Mi
  max_memory_samples: 5
  <<: *default_resources

health:
  readiness_probe:
    tcp_socket:
      port: 6379
    initial_delay: 5
    period: 10
  <<: *health_check
  timeout: 3

logging:
  <<: *logging_config
  level: warning
  format: json

network:
  <<: *network_defaults
  port: 6379
  protocol: TCP

replication:
  enabled: false
  replicas: 0
  <<: *replication_config

security:
  <<: *security_defaults
  require_password: true
  protected_mode: true