Query Execution Time Analysis - Prometheus Datasource

=== Summary ===
Analysis period: Last 7 days
Total queries analyzed: 15,247
Datasource: Prometheus (proxied through Grafana)

=== Query Duration Distribution ===
< 10 seconds: 8,234 queries (54%)
10-30 seconds: 4,112 queries (27%)
30-60 seconds: 1,523 queries (10%)
60-90 seconds: 897 queries (6%)
90-120 seconds: 312 queries (2%)
120-180 seconds: 169 queries (1%)

=== Specific Query Examples ===

Query Type: Resource usage aggregation (7 day window)
Average Duration: 125 seconds
Max Duration: 178 seconds
Frequency: ~50 times/day

Query Type: Complex join across multiple metrics
Average Duration: 95 seconds
Max Duration: 142 seconds
Frequency: ~30 times/day

Query Type: Standard dashboard panel refresh
Average Duration: 8 seconds
Max Duration: 25 seconds
Frequency: ~5000 times/day

=== Issue Correlation ===
Timeout errors observed: 481 in last 7 days
All timeout errors occurred on queries with duration > 30 seconds
Direct backend queries succeed, but proxied queries fail
Current proxy timeout appears to be 30 seconds

=== Recommendations ===
Longest legitimate query: 178 seconds
Recommended timeout: 180 seconds + safety margin = 240 seconds minimum
This would accommodate 99.9% of legitimate queries