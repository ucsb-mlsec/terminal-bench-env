[2024-11-15 08:23:45] INFO: Starting Jenkins build job
[2024-11-15 08:23:45] INFO: Build ID: workspace5-build-847
[2024-11-15 08:23:45] INFO: Node: jenkins-slave-03
[2024-11-15 08:23:45] INFO: Workspace: /var/lib/jenkins/workspace/workspace5
[2024-11-15 08:23:46] INFO: Checking out source code from repository
[2024-11-15 08:23:46] INFO: Git repository: https://github.com/example/project5.git
[2024-11-15 08:23:47] INFO: Branch: master
[2024-11-15 08:23:47] INFO: Commit: a7f3d92e4b5c6d8f9e0a1b2c3d4e5f6g7h8i9j0k
[2024-11-15 08:23:48] INFO: Cloning repository...
[2024-11-15 08:23:49] INFO: Remote: Counting objects: 1542
[2024-11-15 08:23:50] INFO: Remote: Compressing objects: 100% (854/854)
[2024-11-15 08:23:51] INFO: Receiving objects: 100% (1542/1542)
[2024-11-15 08:23:52] INFO: Resolving deltas: 100% (687/687)
[2024-11-15 08:23:53] INFO: Checkout complete
[2024-11-15 08:23:54] INFO: Setting up build environment
[2024-11-15 08:23:55] INFO: Java version: 1.8.0_292
[2024-11-15 08:23:55] INFO: Maven version: 3.6.3
[2024-11-15 08:23:56] INFO: Node version: 14.17.0
[2024-11-15 08:23:56] INFO: npm version: 6.14.13
[2024-11-15 08:23:57] INFO: Setting JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
[2024-11-15 08:23:57] INFO: Setting M2_HOME=/usr/share/maven
[2024-11-15 08:23:58] INFO: Setting PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
[2024-11-15 08:23:59] INFO: Installing project dependencies
[2024-11-15 08:24:00] INFO: Running: npm install
[2024-11-15 08:24:01] INFO: npm WARN deprecated request@2.88.2: request has been deprecated
[2024-11-15 08:24:02] INFO: npm WARN deprecated har-validator@5.1.5: this library is no longer supported
[2024-11-15 08:24:03] INFO: npm WARN deprecated uuid@3.4.0: Please upgrade to version 7 or higher
[2024-11-15 08:24:04] INFO: Installing: express@4.17.1
[2024-11-15 08:24:05] INFO: Installing: body-parser@1.19.0
[2024-11-15 08:24:06] INFO: Installing: cors@2.8.5
[2024-11-15 08:24:07] INFO: Installing: dotenv@10.0.0
[2024-11-15 08:24:08] INFO: Installing: helmet@4.6.0
[2024-11-15 08:24:09] INFO: Installing: mongoose@5.13.2
[2024-11-15 08:24:10] INFO: Installing: jsonwebtoken@8.5.1
[2024-11-15 08:24:11] INFO: Installing: bcrypt@5.0.1
[2024-11-15 08:24:12] INFO: Installing: lodash@4.17.21
[2024-11-15 08:24:13] INFO: Installing: moment@2.29.1
[2024-11-15 08:24:14] INFO: Installing: axios@0.21.1
[2024-11-15 08:24:15] INFO: Installing: winston@3.3.3
[2024-11-15 08:24:16] INFO: Installing: joi@17.4.0
[2024-11-15 08:24:17] INFO: Installing: multer@1.4.2
[2024-11-15 08:24:18] INFO: Installing: nodemailer@6.6.2
[2024-11-15 08:24:19] INFO: Installing development dependencies
[2024-11-15 08:24:20] INFO: Installing: jest@27.0.6
[2024-11-15 08:24:21] INFO: Installing: supertest@6.1.3
[2024-11-15 08:24:22] INFO: Installing: eslint@7.30.0
[2024-11-15 08:24:23] INFO: Installing: prettier@2.3.2
[2024-11-15 08:24:24] INFO: Installing: nodemon@2.0.9
[2024-11-15 08:24:25] INFO: Installing: mocha@9.0.2
[2024-11-15 08:24:26] INFO: Installing: chai@4.3.4
[2024-11-15 08:24:27] INFO: Installing: sinon@11.1.1
[2024-11-15 08:24:28] INFO: npm audit fix running
[2024-11-15 08:24:29] INFO: Found 0 vulnerabilities
[2024-11-15 08:24:30] INFO: Dependencies installation complete
[2024-11-15 08:24:31] INFO: Running code quality checks
[2024-11-15 08:24:32] INFO: Running ESLint...
[2024-11-15 08:24:33] INFO: Linting: src/controllers/authController.js
[2024-11-15 08:24:34] INFO: Linting: src/controllers/userController.js
[2024-11-15 08:24:35] INFO: Linting: src/models/User.js
[2024-11-15 08:24:36] INFO: Linting: src/models/Product.js
[2024-11-15 08:24:37] INFO: Linting: src/routes/auth.js
[2024-11-15 08:24:38] INFO: Linting: src/routes/users.js
[2024-11-15 08:24:39] INFO: Linting: src/middleware/auth.js
[2024-11-15 08:24:40] INFO: Linting: src/middleware/validation.js
[2024-11-15 08:24:41] INFO: Linting: src/utils/logger.js
[2024-11-15 08:24:42] INFO: Linting: src/utils/helpers.js
[2024-11-15 08:24:43] INFO: ESLint found 0 errors, 2 warnings
[2024-11-15 08:24:44] WARN: Line 47: Unexpected console statement
[2024-11-15 08:24:45] WARN: Line 92: Prefer const over let for variable declaration
[2024-11-15 08:24:46] INFO: Running Prettier format check...
[2024-11-15 08:24:47] INFO: All files formatted correctly
[2024-11-15 08:24:48] INFO: Code quality checks passed
[2024-11-15 08:24:49] INFO: Starting test suite execution
[2024-11-15 08:24:50] INFO: Running unit tests...
[2024-11-15 08:24:51] INFO: Test suite: Authentication Controller
[2024-11-15 08:24:52] INFO: ✓ should register new user successfully
[2024-11-15 08:24:53] INFO: ✓ should not register user with existing email
[2024-11-15 08:24:54] INFO: ✓ should login with valid credentials
[2024-11-15 08:24:55] INFO: ✓ should reject login with invalid password
[2024-11-15 08:24:56] INFO: ✓ should generate JWT token on successful login
[2024-11-15 08:24:57] INFO: ✓ should hash password before saving
[2024-11-15 08:24:58] INFO: Test suite: User Controller
[2024-11-15 08:24:59] INFO: ✓ should get user profile by ID
[2024-11-15 08:25:00] INFO: ✓ should update user profile
[2024-11-15 08:25:01] INFO: ✓ should delete user account
[2024-11-15 08:25:02] INFO: ✓ should list all users with pagination
[2024-11-15 08:25:03] INFO: ✓ should search users by username
[2024-11-15 08:25:04] INFO: ✓ should upload user avatar
[2024-11-15 08:25:05] INFO: Test suite: Product Model
[2024-11-15 08:25:06] INFO: ✓ should create new product
[2024-11-15 08:25:07] INFO: ✓ should validate required fields
[2024-11-15 08:25:08] INFO: ✓ should update product details
[2024-11-15 08:25:09] INFO: ✓ should delete product
[2024-11-15 08:25:10] INFO: ✓ should find products by category
[2024-11-15 08:25:11] INFO: ✓ should calculate discounted price
[2024-11-15 08:25:12] INFO: Test suite: Middleware Tests
[2024-11-15 08:25:13] INFO: ✓ should authenticate valid JWT token
[2024-11-15 08:25:14] INFO: ✓ should reject invalid JWT token
[2024-11-15 08:25:15] INFO: ✓ should reject expired JWT token
[2024-11-15 08:25:16] INFO: ✓ should validate request body
[2024-11-15 08:25:17] INFO: ✓ should sanitize user input
[2024-11-15 08:25:18] INFO: ✓ should check user permissions
[2024-11-15 08:25:19] INFO: Test suite: Utility Functions
[2024-11-15 08:25:20] INFO: ✓ should format date correctly
[2024-11-15 08:25:21] INFO: ✓ should generate random string
[2024-11-15 08:25:22] INFO: ✓ should validate email format
[2024-11-15 08:25:23] INFO: ✓ should hash data with salt
[2024-11-15 08:25:24] INFO: ✓ should compare hashed values
[2024-11-15 08:25:25] INFO: Running integration tests...
[2024-11-15 08:25:26] INFO: Test suite: API Endpoints
[2024-11-15 08:25:27] INFO: ✓ POST /api/auth/register should return 201
[2024-11-15 08:25:28] INFO: ✓ POST /api/auth/login should return token
[2024-11-15 08:25:29] INFO: ✓ GET /api/users/:id should return user data
[2024-11-15 08:25:30] INFO: ✓ PUT /api/users/:id should update user
[2024-11-15 08:25:31] INFO: ✓ DELETE /api/users/:id should remove user
[2024-11-15 08:25:32] INFO: ✓ GET /api/products should list products
[2024-11-15 08:25:33] INFO: ✓ POST /api/products should create product
[2024-11-15 08:25:34] INFO: ✓ GET /api/products/:id should return product
[2024-11-15 08:25:35] INFO: ✓ PUT /api/products/:id should update product
[2024-11-15 08:25:36] INFO: ✓ DELETE /api/products/:id should remove product
[2024-11-15 08:25:37] INFO: Test Results Summary
[2024-11-15 08:25:38] INFO: Total Tests: 40
[2024-11-15 08:25:39] INFO: Passed: 40
[2024-11-15 08:25:40] INFO: Failed: 0
[2024-11-15 08:25:41] INFO: Skipped: 0
[2024-11-15 08:25:42] INFO: Test Coverage: 94.3%
[2024-11-15 08:25:43] INFO: Coverage by file:
[2024-11-15 08:25:44] INFO: - authController.js: 96.7%
[2024-11-15 08:25:45] INFO: - userController.js: 95.2%
[2024-11-15 08:25:46] INFO: - User.js: 98.1%
[2024-11-15 08:25:47] INFO: - Product.js: 97.3%
[2024-11-15 08:25:48] INFO: - auth.js: 91.4%
[2024-11-15 08:25:49] INFO: - validation.js: 89.6%
[2024-11-15 08:25:50] INFO: Starting build compilation
[2024-11-15 08:25:51] INFO: Running Maven build...
[2024-11-15 08:25:52] INFO: [INFO] Scanning for projects...
[2024-11-15 08:25:53] INFO: [INFO] Building project-workspace5 1.0.0
[2024-11-15 08:25:54] INFO: [INFO] --------------------------------[ jar ]---------------------------------
[2024-11-15 08:25:55] INFO: [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ workspace5 ---
[2024-11-15 08:25:56] INFO: [INFO] Deleting target directory
[2024-11-15 08:25:57] INFO: [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ workspace5 ---
[2024-11-15 08:25:58] INFO: [INFO] Copying 12 resources
[2024-11-15 08:25:59] INFO: [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ workspace5 ---
[2024-11-15 08:26:00] INFO: [INFO] Compiling 45 source files to target/classes
[2024-11-15 08:26:01] INFO: Compiling: src/main/java/com/example/Application.java
[2024-11-15 08:26:02] INFO: Compiling: src/main/java/com/example/controller/HomeController.java
[2024-11-15 08:26:03] INFO: Compiling: src/main/java/com/example/controller/UserController.java
[2024-11-15 08:26:04] INFO: Compiling: src/main/java/com/example/controller/ProductController.java
[2024-11-15 08:26:05] INFO: Compiling: src/main/java/com/example/service/UserService.java
[2024-11-15 08:26:06] INFO: Compiling: src/main/java/com/example/service/ProductService.java
[2024-11-15 08:26:07] INFO: Compiling: src/main/java/com/example/service/AuthService.java
[2024-11-15 08:26:08] INFO: Compiling: src/main/java/com/example/repository/UserRepository.java
[2024-11-15 08:26:09] INFO: Compiling: src/main/java/com/example/repository/ProductRepository.java
[2024-11-15 08:26:10] INFO: Compiling: src/main/java/com/example/model/User.java
[2024-11-15 08:26:11] INFO: Compiling: src/main/java/com/example/model/Product.java
[2024-11-15 08:26:12] INFO: Compiling: src/main/java/com/example/model/Category.java
[2024-11-15 08:26:13] INFO: Compiling: src/main/java/com/example/dto/UserDTO.java
[2024-11-15 08:26:14] INFO: Compiling: src/main/java/com/example/dto/ProductDTO.java
[2024-11-15 08:26:15] INFO: Compiling: src/main/java/com/example/config/SecurityConfig.java
[2024-11-15 08:26:16] INFO: Compiling: src/main/java/com/example/config/DatabaseConfig.java
[2024-11-15 08:26:17] INFO: Compiling: src/main/java/com/example/exception/CustomException.java
[2024-11-15 08:26:18] INFO: Compiling: src/main/java/com/example/exception/ExceptionHandler.java
[2024-11-15 08:26:19] INFO: Compiling: src/main/java/com/example/util/ValidationUtils.java
[2024-11-15 08:26:20] INFO: Compiling: src/main/java/com/example/util/DateUtils.java
[2024-11-15 08:26:21] INFO: [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ workspace5 ---
[2024-11-15 08:26:22] INFO: [INFO] Copying 5 resources
[2024-11-15 08:26:23] INFO: [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ workspace5 ---
[2024-11-15 08:26:24] INFO: [INFO] Compiling 28 source files to target/test-classes
[2024-11-15 08:26:25] INFO: [INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ workspace5 ---
[2024-11-15 08:26:26] INFO: Running test suite...
[2024-11-15 08:26:27] INFO: Running com.example.controller.UserControllerTest
[2024-11-15 08:26:28] INFO: Tests run: 8, Failures: 0, Errors: 0, Skipped: 0
[2024-11-15 08:26:29] INFO: Running com.example.service.UserServiceTest
[2024-11-15 08:26:30] INFO: Tests run: 12, Failures: 0, Errors: 0, Skipped: 0
[2024-11-15 08:26:31] INFO: Running com.example.repository.UserRepositoryTest
[2024-11-15 08:26:32] INFO: Tests run: 6, Failures: 0, Errors: 0, Skipped: 0
[2024-11-15 08:26:33] INFO: [INFO] Results:
[2024-11-15 08:26:34] INFO: [INFO] Tests run: 26, Failures: 0, Errors: 0, Skipped: 0
[2024-11-15 08:26:35] INFO: [INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ workspace5 ---
[2024-11-15 08:26:36] INFO: [INFO] Building jar: target/workspace5-1.0.0.jar
[2024-11-15 08:26:37] INFO: [INFO] --- maven-install-plugin:2.5.2:install (default-install) @ workspace5 ---
[2024-11-15 08:26:38] INFO: [INFO] Installing target/workspace5-1.0.0.jar to local repository
[2024-11-15 08:26:39] INFO: [INFO] BUILD SUCCESS
[2024-11-15 08:26:40] INFO: [INFO] Total time: 48.234 s
[2024-11-15 08:26:41] INFO: [INFO] Finished at: 2024-11-15T08:26:41Z
[2024-11-15 08:26:42] INFO: Maven build completed successfully
[2024-11-15 08:26:43] INFO: Building Docker image...
[2024-11-15 08:26:44] INFO: Step 1/12 : FROM openjdk:8-jdk-alpine
[2024-11-15 08:26:45] INFO: ---> a3562aa0b991
[2024-11-15 08:26:46] INFO: Step 2/12 : WORKDIR /app
[2024-11-15 08:26:47] INFO: ---> Using cache
[2024-11-15 08:26:48] INFO: ---> 7f3c94e8d9a1
[2024-11-15 08:26:49] INFO: Step 3/12 : COPY target/*.jar app.jar
[2024-11-15 08:26:50] INFO: ---> 9b2e5f8c4d3a
[2024-11-15 08:26:51] INFO: Step 4/12 : EXPOSE 8080
[2024-11-15 08:26:52] INFO: ---> Running in a4c7f9e1b2d3
[2024-11-15 08:26:53] INFO: ---> 5e6d8f7a9c2b
[2024-11-15 08:26:54] INFO: Step 5/12 : ENV JAVA_OPTS=""
[2024-11-15 08:26:55] INFO: ---> Running in c3b4a5d6e7f8
[2024-11-15 08:26:56] INFO: ---> 1f2e3d4c5b6a
[2024-11-15 08:26:57] INFO: Step 6/12 : ENTRYPOINT ["java","-jar","app.jar"]
[2024-11-15 08:26:58] INFO: ---> Running in d7e8f9a0b1c2
[2024-11-15 08:26:59] INFO: ---> 2g3h4i5j6k7l
[2024-11-15 08:27:00] INFO: Successfully built 2g3h4i5j6k7l
[2024-11-15 08:27:01] INFO: Successfully tagged workspace5:latest
[2024-11-15 08:27:02] INFO: Docker image build complete
[2024-11-15 08:27:03] INFO: Running security scan...
[2024-11-15 08:27:04] INFO: Scanning dependencies for vulnerabilities
[2024-11-15 08:27:05] INFO: Checking for known CVEs...
[2024-11-15 08:27:06] INFO: Scanning: express@4.17.1
[2024-11-15 08:27:07] INFO: No vulnerabilities found
[2024-11-15 08:27:08] INFO: Scanning: mongoose@5.13.2
[2024-11-15 08:27:09] INFO: No vulnerabilities found
[2024-11-15 08:27:10] INFO: Scanning: jsonwebtoken@8.5.1
[2024-11-15 08:27:11] INFO: No vulnerabilities found
[2024-11-15 08:27:12] INFO: Scanning: bcrypt@5.0.1
[2024-11-15 08:27:13] INFO: No vulnerabilities found
[2024-11-15 08:27:14] INFO: Security scan completed: 0 vulnerabilities found
[2024-11-15 08:27:15] INFO: Generating build artifacts...
[2024-11-15 08:27:16] INFO: Creating artifact archive
[2024-11-15 08:27:17] INFO: Adding: workspace5-1.0.0.jar
[2024-11-15 08:27:18] INFO: Adding: dependencies/
[2024-11-15 08:27:19] INFO: Adding: configuration files
[2024-11-15 08:27:20] INFO: Adding: documentation
[2024-11-15 08:27:21] INFO: Archive created: workspace5-build-847.tar.gz
[2024-11-15 08:27:22] INFO: Artifact size: 47.3 MB
[2024-11-15 08:27:23] INFO: Publishing build artifacts...
[2024-11-15 08:27:24] INFO: Uploading to artifact repository
[2024-11-15 08:27:25] INFO: Upload progress: 10%
[2024-11-15 08:27:26] INFO: Upload progress: 25%
[2024-11-15 08:27:27] INFO: Upload progress: 40%
[2024-11-15 08:27:28] INFO: Upload progress: 55%
[2024-11-15 08:27:29] INFO: Upload progress: 70%
[2024-11-15 08:27:30] INFO: Upload progress: 85%
[2024-11-15 08:27:31] INFO: Upload progress: 100%
[2024-11-15 08:27:32] INFO: Upload completed successfully
[2024-11-15 08:27:33] INFO: Artifact URL: https://artifacts.example.com/workspace5/847
[2024-11-15 08:27:34] INFO: Sending build notifications...
[2024-11-15 08:27:35] INFO: Sending email notification to dev-team@example.com
[2024-11-15 08:27:36] INFO: Sending Slack notification to #builds channel
[2024-11-15 08:27:37] INFO: Updating JIRA tickets
[2024-11-15 08:27:38] INFO: Posting to build dashboard
[2024-11-15 08:27:39] INFO: Cleaning up temporary files...
[2024-11-15 08:27:40] INFO: Removing: /tmp/build-847-temp
[2024-11-15 08:27:41] INFO: Removing: /tmp/test-results-847
[2024-11-15 08:27:42] INFO: Removing: /tmp/coverage-847
[2024-11-15 08:27:43] INFO: Cleanup complete
[2024-11-15 08:27:44] INFO: Build Summary:
[2024-11-15 08:27:45] INFO: ==========================================
[2024-11-15 08:27:46] INFO: Build ID: 847
[2024-11-15 08:27:47] INFO: Status: SUCCESS
[2024-11-15 08:27:48] INFO: Duration: 4 minutes 3 seconds
[2024-11-15 08:27:49] INFO: Commit: a7f3d92e4b5c6d8f9e0a1b2c3d4e5f6g7h8i9j0k
[2024-11-15 08:27:50] INFO: Branch: master
[2024-11-15 08:27:51] INFO: Tests: 66 passed, 0 failed
[2024-11-15 08:27:52] INFO: Coverage: 94.3%
[2024-11-15 08:27:53] INFO: Artifact: workspace5-build-847.tar.gz
[2024-11-15 08:27:54] INFO: ==========================================
[2024-11-15 08:27:55] INFO: Build completed successfully
[2024-11-15 08:27:56] INFO: Finished: SUCCESS