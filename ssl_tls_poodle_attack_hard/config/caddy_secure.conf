secure.example.com

# TLS Configuration
tls /etc/caddy/certs/secure.example.com.crt /etc/caddy/certs/secure.example.com.key {
    protocols tls1.2 tls1.3
    ciphers TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
}

# Root directory
root * /var/www/secure

# File server
file_server browse

# Access logging
log {
    output file /var/log/caddy/secure.access.log
    format json
}

# Error handling
handle_errors {
    respond "{err.status_code} {err.status_text}"
}

# Security headers
header {
    Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    X-Content-Type-Options "nosniff"
    X-Frame-Options "DENY"
}