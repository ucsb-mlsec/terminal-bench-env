---
- name: Production Deployment Playbook
  hosts: all
  gather_facts: yes
  vars_files:
    - group_vars/all/vault.yml
    - group_vars/webservers/vault.yml
    - host_vars/db01/vault.yml

  tasks:
    - name: Configure database
      debug:
        msg: "Configuring database with password: {{ vault_db_password }}"
      tags:
        - database
        - config

    - name: Deploy application
      debug:
        msg: "Deploying application with API key: {{ vault_api_key }}"
      tags:
        - deployment
        - application

    - name: Setup API credentials
      debug:
        msg: "Setting up API with secret token: {{ vault_secret_token }}"
      tags:
        - api
        - credentials

    - name: Configure secure connections
      debug:
        msg: "Establishing secure connection with SSL cert password: {{ vault_ssl_password }}"
      tags:
        - security
        - ssl