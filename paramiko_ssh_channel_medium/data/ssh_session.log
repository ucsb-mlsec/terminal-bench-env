CMD: whoami
RESP: deploy-user
CMD: ls -la /opt/app
RESP: total 24
drwxr-xr-x 3 deploy-user deploy-user 4096 Jan 15 10:23 .
drwxr-xr-x 8 root root 4096 Jan 10 08:15 ..
drwxr-xr-x 2 deploy-user deploy-user 4096 Jan 15 10:23 releases
-rw-r--r-- 1 deploy-user deploy-user 1234 Jan 15 10:20 config.yml
CMD: cd /opt/app/releases
RESP: 
CMD: wget https://artifacts.company.com/app-v2.3.tar.gz
RESP: --2024-01-15 10:24:15--  https://artifacts.company.com/app-v2.3.tar.gz
Resolving artifacts.company.com... 10.0.1.50
Connecting to artifacts.company.com... connected.
HTTP request sent, awaiting response... 200 OK
Length: 15728640 (15M) [application/x-gzip]
Saving to: 'app-v2.3.tar.gz'
app-v2.3.tar.gz     100%[===================>]  15.00M  50.2MB/s    in 0.3s
2024-01-15 10:24:16 (50.2 MB/s) - 'app-v2.3.tar.gz' saved [15728640/15728640]
CMD: tar -xzf app-v2.3.tar.gz
RESP: 
CMD: cp /opt/app/config.yml /opt/app/releases/app-v2.3/
RESP: 
CMD: chown -R www-data:www-data /opt/app/releases/app-v2.3
RESP: chown: changing ownership of '/opt/app/releases/app-v2.3': Permission denied
CMD: sudo chown -R www-data:www-data /opt/app/releases/app-v2.3
RESP: 
CMD: systemctl status nginx
RESP: ‚óè nginx.service - A high performance web server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Mon 2024-01-15 09:00:12 UTC; 1h 24min ago
CMD: ln -sf /opt/app/releases/app-v2.3 /opt/app/current
RESP: 
CMD: cat /opt/app/nonexistent-config.json
RESP: cat: /opt/app/nonexistent-config.json: No such file or directory
CMD: systemctl restart nginx
RESP: 
CMD: curl -I http://localhost
RESP: HTTP/1.1 200 OK
Server: nginx/1.18.0
Date: Mon, 15 Jan 2024 10:25:30 GMT
Content-Type: text/html
Connection: keep-alive
CMD: systemctl restart postgresql
RESP: Failed to restart postgresql.service: Unit postgresql.service not found.
CMD: ps aux | grep app
RESP: www-data  12345  0.5  2.1 456789 87654 ?        Ssl  10:25   0:01 /opt/app/current/bin/app
deploy-user 12389  0.0  0.0  12345   678 pts/0    S+   10:25   0:00 grep app
CMD: rm -rf /var/log/app/old-logs
RESP: rm: cannot remove '/var/log/app/old-logs': Permission denied
CMD: tail -n 20 /var/log/nginx/access.log
RESP: 10.0.1.100 - - [15/Jan/2024:10:25:30 +0000] "GET / HTTP/1.1" 200 1234 "-" "curl/7.68.0"
10.0.1.101 - - [15/Jan/2024:10:25:31 +0000] "GET /health HTTP/1.1" 200 15 "-" "HealthCheck/1.0"
10.0.1.102 - - [15/Jan/2024:10:25:32 +0000] "GET /api/status HTTP/1.1" 200 567 "-" "Mozilla/5.0"
CMD: df -h
RESP: Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G   23G   25G  48% /
tmpfs           3.9G     0  3.9G   0% /dev/shm
CMD: echo "Deployment completed"
RESP: Deployment completed